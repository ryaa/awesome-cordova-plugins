var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
import { AwesomeCordovaNativePlugin, cordova, getPromise } from '@awesome-cordova-plugins/core';
var NestedObject = /** @class */ (function () {
    function NestedObject(pluginObj) {
        this.pluginObj = pluginObj;
    }
    NestedObject.prototype.wrap = function (functionName, args) {
        var plugin = WonderPushOriginal.getPlugin();
        var userPreferences = plugin ? plugin.UserPreferences : null;
        if (!plugin || !userPreferences || !userPreferences[functionName]) {
            return getPromise(function (res, rej) {
                rej(new Error('Could not find plugin'));
            });
        }
        return getPromise(function (res, rej) {
            userPreferences[functionName].apply(userPreferences, __spreadArray(__spreadArray([], args), [res]));
        });
    };
    return NestedObject;
}());
export { NestedObject };
var UserPreferencesMethods = /** @class */ (function (_super) {
    __extends(UserPreferencesMethods, _super);
    function UserPreferencesMethods() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Get the default channel id
     *
     * @returns {Promise<string>}
     */
    UserPreferencesMethods.prototype.getDefaultChannelId = function () {
        return this.wrap('getDefaultChannelId', []);
    };
    /**
     * Set the default channel id
     *
     * @param {string} id
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.setDefaultChannelId = function (id) {
        return this.wrap('setDefaultChannelId', [id]);
    };
    /**
     * Get a channel group
     *
     * @param {string} groupId
     * @returns {Promise<WonderPushChannelGroup | null>}
     */
    UserPreferencesMethods.prototype.getChannelGroup = function (groupId) {
        return this.wrap('getChannelGroup', [groupId]);
    };
    /**
     * Get a channel
     *
     * @param {string} channelId
     * @returns {Promise<WonderPushChannel | null>}
     */
    UserPreferencesMethods.prototype.getChannel = function (channelId) {
        return this.wrap('getChannel', [channelId]);
    };
    /**
     * Create, update and remove channel existing groups to match the given channel groups
     *
     * @param {WonderPushChannelGroup[]} channelGroups
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.setChannelGroups = function (channelGroups) {
        return this.wrap('setChannelGroups', [channelGroups]);
    };
    /**
     * Create, update and remove channels to match the given channels
     *
     * @param {WonderPushChannel[]} channels
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.setChannels = function (channels) {
        return this.wrap('setChannels', [channels]);
    };
    /**
     * Create or update a channel group
     *
     * @param {WonderPushChannelGroup} channelGroup
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.putChannelGroup = function (channelGroup) {
        return this.wrap('putChannelGroup', [channelGroup]);
    };
    /**
     * Create or update a channel
     *
     * @param {WonderPushChannel} channel
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.putChannel = function (channel) {
        return this.wrap('putChannel', [channel]);
    };
    /**
     * Remove a channel group
     *
     * @param {string} groupId
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.removeChannelGroup = function (groupId) {
        return this.wrap('removeChannelGroup', [groupId]);
    };
    /**
     * Remove a channel
     *
     * @param {string} channelId
     * @returns {Promise<any>}
     */
    UserPreferencesMethods.prototype.removeChannel = function (channelId) {
        return this.wrap('removeChannel', [channelId]);
    };
    return UserPreferencesMethods;
}(NestedObject));
export { UserPreferencesMethods };
var WonderPushOriginal = /** @class */ (function (_super) {
    __extends(WonderPushOriginal, _super);
    function WonderPushOriginal() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.UserPreferences = new UserPreferencesMethods(_this);
        return _this;
    }
    WonderPushOriginal.prototype.setUserId = function (userId) { return cordova(this, "setUserId", {}, arguments); };
    WonderPushOriginal.prototype.setLogging = function (enabled) { return cordova(this, "setLogging", {}, arguments); };
    WonderPushOriginal.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    WonderPushOriginal.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    WonderPushOriginal.prototype.getUserId = function () { return cordova(this, "getUserId", {}, arguments); };
    WonderPushOriginal.prototype.getInstallationId = function () { return cordova(this, "getInstallationId", {}, arguments); };
    WonderPushOriginal.prototype.getDeviceId = function () { return cordova(this, "getDeviceId", {}, arguments); };
    WonderPushOriginal.prototype.getPushToken = function () { return cordova(this, "getPushToken", {}, arguments); };
    WonderPushOriginal.prototype.getAccessToken = function () { return cordova(this, "getAccessToken", {}, arguments); };
    WonderPushOriginal.prototype.trackEvent = function (type, attributes) { return cordova(this, "trackEvent", {}, arguments); };
    WonderPushOriginal.prototype.addTag = function (tag) { return cordova(this, "addTag", {}, arguments); };
    WonderPushOriginal.prototype.removeTag = function (tag) { return cordova(this, "removeTag", {}, arguments); };
    WonderPushOriginal.prototype.removeAllTags = function () { return cordova(this, "removeAllTags", {}, arguments); };
    WonderPushOriginal.prototype.getTags = function () { return cordova(this, "getTags", {}, arguments); };
    WonderPushOriginal.prototype.hasTag = function (tag) { return cordova(this, "hasTag", {}, arguments); };
    WonderPushOriginal.prototype.setProperty = function (field, value) { return cordova(this, "setProperty", {}, arguments); };
    WonderPushOriginal.prototype.unsetProperty = function (field) { return cordova(this, "unsetProperty", {}, arguments); };
    WonderPushOriginal.prototype.addProperty = function (field, value) { return cordova(this, "addProperty", {}, arguments); };
    WonderPushOriginal.prototype.removeProperty = function (field, value) { return cordova(this, "removeProperty", {}, arguments); };
    WonderPushOriginal.prototype.getPropertyValue = function (field) { return cordova(this, "getPropertyValue", {}, arguments); };
    WonderPushOriginal.prototype.getPropertyValues = function (field) { return cordova(this, "getPropertyValues", {}, arguments); };
    WonderPushOriginal.prototype.getProperties = function () { return cordova(this, "getProperties", {}, arguments); };
    WonderPushOriginal.prototype.putProperties = function (properties) { return cordova(this, "putProperties", {}, arguments); };
    WonderPushOriginal.prototype.subscribeToNotifications = function () { return cordova(this, "subscribeToNotifications", {}, arguments); };
    WonderPushOriginal.prototype.isSubscribedToNotifications = function () { return cordova(this, "isSubscribedToNotifications", {}, arguments); };
    WonderPushOriginal.prototype.unsubscribeFromNotifications = function () { return cordova(this, "unsubscribeFromNotifications", {}, arguments); };
    WonderPushOriginal.prototype.getUserConsent = function () { return cordova(this, "getUserConsent", {}, arguments); };
    WonderPushOriginal.prototype.setUserConsent = function (consent) { return cordova(this, "setUserConsent", {}, arguments); };
    WonderPushOriginal.prototype.clearAllData = function () { return cordova(this, "clearAllData", {}, arguments); };
    WonderPushOriginal.prototype.clearEventsHistory = function () { return cordova(this, "clearEventsHistory", {}, arguments); };
    WonderPushOriginal.prototype.clearPreferences = function () { return cordova(this, "clearPreferences", {}, arguments); };
    WonderPushOriginal.prototype.downloadAllData = function () { return cordova(this, "downloadAllData", {}, arguments); };
    WonderPushOriginal.prototype.getCountry = function () { return cordova(this, "getCountry", {}, arguments); };
    WonderPushOriginal.prototype.setCountry = function (country) { return cordova(this, "setCountry", {}, arguments); };
    WonderPushOriginal.prototype.getCurrency = function () { return cordova(this, "getCurrency", {}, arguments); };
    WonderPushOriginal.prototype.setCurrency = function (currency) { return cordova(this, "setCurrency", {}, arguments); };
    WonderPushOriginal.prototype.getLocale = function () { return cordova(this, "getLocale", {}, arguments); };
    WonderPushOriginal.prototype.setLocale = function (locale) { return cordova(this, "setLocale", {}, arguments); };
    WonderPushOriginal.prototype.getTimeZone = function () { return cordova(this, "getTimeZone", {}, arguments); };
    WonderPushOriginal.prototype.setTimeZone = function (timeZone) { return cordova(this, "setTimeZone", {}, arguments); };
    WonderPushOriginal.prototype.enableGeolocation = function () { return cordova(this, "enableGeolocation", {}, arguments); };
    WonderPushOriginal.prototype.disableGeolocation = function () { return cordova(this, "disableGeolocation", {}, arguments); };
    WonderPushOriginal.prototype.setGeolocation = function (latitude, longitude) { return cordova(this, "setGeolocation", {}, arguments); };
    WonderPushOriginal.pluginName = "WonderPush";
    WonderPushOriginal.plugin = "wonderpush-cordova-sdk";
    WonderPushOriginal.pluginRef = "WonderPush";
    WonderPushOriginal.repo = "https://github.com/wonderpush/wonderpush-cordova-sdk";
    WonderPushOriginal.install = "ionic cordova plugin add wonderpush-cordova-sdk --variable CLIENT_ID=YOUR_CLIENT_ID --variable CLIENT_SECRET=YOUR_CLIENT_SECRET ";
    WonderPushOriginal.installVariables = ["CLIENT_ID", "CLIENT_SECRET"];
    WonderPushOriginal.platforms = ["Android", "iOS"];
    return WonderPushOriginal;
}(AwesomeCordovaNativePlugin));
var WonderPush = new WonderPushOriginal();
export { WonderPush };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvd29uZGVycHVzaC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLE9BQU8sdUNBQStDLFVBQVUsRUFBRSxNQUFNLCtCQUErQixDQUFDOztJQWdDdEcsc0JBQVksU0FBYztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO0lBRUQsMkJBQUksR0FBSixVQUFRLFlBQW9CLEVBQUUsSUFBVztRQUN2QyxJQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDdEMsSUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDL0QsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUNqRSxPQUFPLFVBQVUsQ0FBSSxVQUFDLEdBQUcsRUFBRSxHQUFHO2dCQUM1QixHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO1lBQzFDLENBQUMsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxPQUFPLFVBQVUsQ0FBSSxVQUFDLEdBQUcsRUFBRSxHQUFHO1lBQzVCLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxrQ0FBTSxJQUFJLElBQUUsR0FBRyxHQUFFLENBQUM7UUFDdkUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO3VCQWhESDs7OztJQW1ENEMsMENBQVk7Ozs7SUFDdEQ7Ozs7T0FJRztJQUNILG9EQUFtQixHQUFuQjtRQUNFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBZ0IscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsb0RBQW1CLEdBQW5CLFVBQW9CLEVBQVU7UUFDNUIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxnREFBZSxHQUFmLFVBQWdCLE9BQWU7UUFDN0IsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFnQyxpQkFBaUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsMkNBQVUsR0FBVixVQUFXLFNBQWlCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBMkIsWUFBWSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxpREFBZ0IsR0FBaEIsVUFBaUIsYUFBdUM7UUFDdEQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCw0Q0FBVyxHQUFYLFVBQVksUUFBNkI7UUFDdkMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsZ0RBQWUsR0FBZixVQUFnQixZQUFvQztRQUNsRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILDJDQUFVLEdBQVYsVUFBVyxPQUEwQjtRQUNuQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxtREFBa0IsR0FBbEIsVUFBbUIsT0FBZTtRQUNoQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILDhDQUFhLEdBQWIsVUFBYyxTQUFpQjtRQUM3QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDO2lDQXJKSDtFQW1ENEMsWUFBWTs7O0lBZ0x4Qiw4QkFBMEI7OztRQXlZeEQscUJBQWUsR0FBRyxJQUFJLHNCQUFzQixDQUFDLEtBQUksQ0FBQyxDQUFDOzs7SUF2WG5ELDhCQUFTLGFBQUMsTUFBcUI7SUFXL0IsK0JBQVUsYUFBQyxPQUFnQjtJQVczQixnQ0FBVyxhQUFDLFFBQW1DO0lBVS9DLGdDQUFXO0lBVVgsOEJBQVM7SUFZVCxzQ0FBaUI7SUFVakIsZ0NBQVc7SUFVWCxpQ0FBWTtJQVlaLG1DQUFjO0lBY2QsK0JBQVUsYUFBQyxJQUFZLEVBQUUsVUFBa0M7SUFXM0QsMkJBQU0sYUFBQyxHQUFzQjtJQVc3Qiw4QkFBUyxhQUFDLEdBQXNCO0lBVWhDLGtDQUFhO0lBVWIsNEJBQU87SUFXUCwyQkFBTSxhQUFDLEdBQVc7SUFlbEIsZ0NBQVcsYUFBQyxLQUFhLEVBQUUsS0FBVTtJQWFyQyxrQ0FBYSxhQUFDLEtBQWE7SUFnQjNCLGdDQUFXLGFBQUMsS0FBYSxFQUFFLEtBQVU7SUFnQnJDLG1DQUFjLGFBQUMsS0FBYSxFQUFFLEtBQVU7SUFleEMscUNBQWdCLGFBQUMsS0FBYTtJQWdCOUIsc0NBQWlCLGFBQUMsS0FBYTtJQVUvQixrQ0FBYTtJQWFiLGtDQUFhLGFBQUMsVUFBa0M7SUFtQmhELDZDQUF3QjtJQVV4QixnREFBMkI7SUFXM0IsaURBQTRCO0lBVzVCLG1DQUFjO0lBYWQsbUNBQWMsYUFBQyxPQUFnQjtJQVUvQixpQ0FBWTtJQVVaLHVDQUFrQjtJQVVsQixxQ0FBZ0I7SUFVaEIsb0NBQWU7SUFXZiwrQkFBVTtJQVdWLCtCQUFVLGFBQUMsT0FBZTtJQVMxQixnQ0FBVztJQVdYLGdDQUFXLGFBQUMsUUFBZ0I7SUFTNUIsOEJBQVM7SUFhVCw4QkFBUyxhQUFDLE1BQWM7SUFTeEIsZ0NBQVc7SUFZWCxnQ0FBVyxhQUFDLFFBQWdCO0lBUzVCLHNDQUFpQjtJQVNqQix1Q0FBa0I7SUFhbEIsbUNBQWMsYUFBQyxRQUFnQixFQUFFLFNBQWlCOzs7Ozs7OztxQkE1dEJwRDtFQW1PZ0MsMEJBQTBCO1NBQTdDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQbHVnaW4sIENvcmRvdmEsIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luLCBnZXRQcm9taXNlIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdvbmRlclB1c2hEZWxlZ2F0ZSB7XG4gIHVybEZvckRlZXBMaW5rKHVybDogc3RyaW5nLCBjYWxsYmFjazogKHVybD86IHN0cmluZykgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29uZGVyUHVzaENoYW5uZWwge1xuICBpZDogc3RyaW5nO1xuICBncm91cElkPzogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgYnlwYXNzRG5kPzogYm9vbGVhbjtcbiAgc2hvd0JhZGdlPzogYm9vbGVhbjtcbiAgaW1wb3J0YW5jZT86IG51bWJlcjtcbiAgbGlnaHRzPzogYm9vbGVhbjtcbiAgbGlnaHRDb2xvcj86IG51bWJlcjtcbiAgdmlicmF0ZT86IGJvb2xlYW47XG4gIHNvdW5kPzogYm9vbGVhbjtcbiAgc291bmRVcmk/OiBzdHJpbmc7XG4gIGxvY2tzY3JlZW5WaXNpYmlsaXR5PzogbnVtYmVyO1xuICB2aWJyYXRlSW5TaWxlbnRNb2RlPzogYm9vbGVhbjtcbiAgY29sb3I/OiBudW1iZXI7XG4gIGxvY2FsT25seT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29uZGVyUHVzaENoYW5uZWxHcm91cCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbmNsYXNzIE5lc3RlZE9iamVjdCB7XG4gIHBsdWdpbk9iajogYW55O1xuICBjb25zdHJ1Y3RvcihwbHVnaW5PYmo6IGFueSkge1xuICAgIHRoaXMucGx1Z2luT2JqID0gcGx1Z2luT2JqO1xuICB9XG5cbiAgd3JhcDxUPihmdW5jdGlvbk5hbWU6IHN0cmluZywgYXJnczogYW55W10pOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCBwbHVnaW4gPSBXb25kZXJQdXNoLmdldFBsdWdpbigpO1xuICAgIGNvbnN0IHVzZXJQcmVmZXJlbmNlcyA9IHBsdWdpbiA/IHBsdWdpbi5Vc2VyUHJlZmVyZW5jZXMgOiBudWxsO1xuICAgIGlmICghcGx1Z2luIHx8ICF1c2VyUHJlZmVyZW5jZXMgfHwgIXVzZXJQcmVmZXJlbmNlc1tmdW5jdGlvbk5hbWVdKSB7XG4gICAgICByZXR1cm4gZ2V0UHJvbWlzZTxUPigocmVzLCByZWopID0+IHtcbiAgICAgICAgcmVqKG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgcGx1Z2luJykpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBnZXRQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xuICAgICAgdXNlclByZWZlcmVuY2VzW2Z1bmN0aW9uTmFtZV0uYXBwbHkodXNlclByZWZlcmVuY2VzLCBbLi4uYXJncywgcmVzXSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVzZXJQcmVmZXJlbmNlc01ldGhvZHMgZXh0ZW5kcyBOZXN0ZWRPYmplY3Qge1xuICAvKipcbiAgICogR2V0IHRoZSBkZWZhdWx0IGNoYW5uZWwgaWRcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGdldERlZmF1bHRDaGFubmVsSWQoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gdGhpcy53cmFwPHN0cmluZyB8IG51bGw+KCdnZXREZWZhdWx0Q2hhbm5lbElkJywgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVmYXVsdCBjaGFubmVsIGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgc2V0RGVmYXVsdENoYW5uZWxJZChpZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy53cmFwKCdzZXREZWZhdWx0Q2hhbm5lbElkJywgW2lkXSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgY2hhbm5lbCBncm91cFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBJZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxXb25kZXJQdXNoQ2hhbm5lbEdyb3VwIHwgbnVsbD59XG4gICAqL1xuICBnZXRDaGFubmVsR3JvdXAoZ3JvdXBJZDogc3RyaW5nKTogUHJvbWlzZTxXb25kZXJQdXNoQ2hhbm5lbEdyb3VwIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLndyYXA8V29uZGVyUHVzaENoYW5uZWxHcm91cCB8IG51bGw+KCdnZXRDaGFubmVsR3JvdXAnLCBbZ3JvdXBJZF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGNoYW5uZWxcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxXb25kZXJQdXNoQ2hhbm5lbCB8IG51bGw+fVxuICAgKi9cbiAgZ2V0Q2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyk6IFByb21pc2U8V29uZGVyUHVzaENoYW5uZWwgfCBudWxsPiB7XG4gICAgcmV0dXJuIHRoaXMud3JhcDxXb25kZXJQdXNoQ2hhbm5lbCB8IG51bGw+KCdnZXRDaGFubmVsJywgW2NoYW5uZWxJZF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSwgdXBkYXRlIGFuZCByZW1vdmUgY2hhbm5lbCBleGlzdGluZyBncm91cHMgdG8gbWF0Y2ggdGhlIGdpdmVuIGNoYW5uZWwgZ3JvdXBzXG4gICAqXG4gICAqIEBwYXJhbSB7V29uZGVyUHVzaENoYW5uZWxHcm91cFtdfSBjaGFubmVsR3JvdXBzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBzZXRDaGFubmVsR3JvdXBzKGNoYW5uZWxHcm91cHM6IFdvbmRlclB1c2hDaGFubmVsR3JvdXBbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMud3JhcCgnc2V0Q2hhbm5lbEdyb3VwcycsIFtjaGFubmVsR3JvdXBzXSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlLCB1cGRhdGUgYW5kIHJlbW92ZSBjaGFubmVscyB0byBtYXRjaCB0aGUgZ2l2ZW4gY2hhbm5lbHNcbiAgICpcbiAgICogQHBhcmFtIHtXb25kZXJQdXNoQ2hhbm5lbFtdfSBjaGFubmVsc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgc2V0Q2hhbm5lbHMoY2hhbm5lbHM6IFdvbmRlclB1c2hDaGFubmVsW10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLndyYXAoJ3NldENoYW5uZWxzJywgW2NoYW5uZWxzXSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhIGNoYW5uZWwgZ3JvdXBcbiAgICpcbiAgICogQHBhcmFtIHtXb25kZXJQdXNoQ2hhbm5lbEdyb3VwfSBjaGFubmVsR3JvdXBcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIHB1dENoYW5uZWxHcm91cChjaGFubmVsR3JvdXA6IFdvbmRlclB1c2hDaGFubmVsR3JvdXApOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLndyYXAoJ3B1dENoYW5uZWxHcm91cCcsIFtjaGFubmVsR3JvdXBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgb3IgdXBkYXRlIGEgY2hhbm5lbFxuICAgKlxuICAgKiBAcGFyYW0ge1dvbmRlclB1c2hDaGFubmVsfSBjaGFubmVsXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBwdXRDaGFubmVsKGNoYW5uZWw6IFdvbmRlclB1c2hDaGFubmVsKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy53cmFwKCdwdXRDaGFubmVsJywgW2NoYW5uZWxdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjaGFubmVsIGdyb3VwXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBncm91cElkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICByZW1vdmVDaGFubmVsR3JvdXAoZ3JvdXBJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy53cmFwKCdyZW1vdmVDaGFubmVsR3JvdXAnLCBbZ3JvdXBJZF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNoYW5uZWxcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgcmVtb3ZlQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMud3JhcCgncmVtb3ZlQ2hhbm5lbCcsIFtjaGFubmVsSWRdKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuYW1lIFB1c2ggTm90aWZpY2F0aW9ucyAtIFdvbmRlclB1c2hcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNlbmQgdW5saW1pdGVkIHB1c2ggbm90aWZpY2F0aW9ucyB0byBpT1MgYW5kIEFuZHJvaWQgZGV2aWNlcy5cbiAqXG4gKiBHZXQgc3RhcnRlZCBpbiBtaW51dGVzOiBbSW9uaWMgUXVpY2tzdGFydCBHdWlkZV0oaHR0cHM6Ly9kb2NzLndvbmRlcnB1c2guY29tL2RvY3MvaW9uaWMtcXVpY2tzdGFydCkuXG4gKlxuICogQWR2YW5jZWQgc2VnbWVudGF0aW9uLCBhdXRvbWF0aW9uIGFuZCBwZXJzb25hbGl6YXRpb24gb2YgcHVzaCBtZXNzYWdlcyBmb3Ig4oKsMSBwZXIgMTAwMCBzdWJzY3JpYmVycy5cbiAqXG4gKiBSZXF1aXJlcyB0aGUgQ29yZG92YSBwbHVnaW4gYHdvbmRlcnB1c2gtY29yZG92YS1zZGtgLlxuICpcbiAqIFtXb25kZXJQdXNoIHB1c2ggbm90aWZpY2F0aW9uc10oaHR0cHM6Ly93d3cud29uZGVycHVzaC5jb20pIGFyZSB0aGUgbW9zdCBlZmZlY3RpdmUgd2F5XG4gKiB0byByZXRhaW4geW91ciB1c2VycyBhbmQgZ3JvdyB5b3VyIGF1ZGllbmNlIHdoaWxlIHJlbWFpbmluZyBmdWxseSBHRFBSIGNvbXBsaWFudC5cbiAqIEB1c2FnZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgV29uZGVyUHVzaCB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy93b25kZXJwdXNoJztcbiAqXG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSB3b25kZXJQdXNoOiBXb25kZXJQdXNoKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKiAvLyBTdWJzY3JpYmUgdXNlclxuICogdGhpcy53b25kZXJQdXNoLnN1YnNjcmliZVRvTm90aWZpY2F0aW9ucygpXG4gKiAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiVXNlciBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIikpXG4gKiAgIC5jYXRjaCgoZXJyb3I6IGFueSkgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xuICpcbiAqXG4gKiAvLyBTZW5kIGFuIGV2ZW50IChhIHB1cmNoYXNlIGluIHRoaXMgZXhhbXBsZSlcbiAqIHRoaXMud29uZGVyUHVzaC5zZW5kRXZlbnQoJ3B1cmNoYXNlJywge1xuICogICBmbG9hdF9wcmljZTogMTIuOTksXG4gKiAgIHN0cmluZ19za3U6IFwiWDEyMzQ1NlwiXG4gKiB9KTtcbiAqXG4gKiAvLyBUYWcgdXNlcnMgKGFzIGN1c3RvbWVycylcbiAqIHRoaXMud29uZGVyUHVzaC5hZGRUYWcoJ2N1c3RvbWVyJyk7XG4gKlxuICogLy8gUGVyc29uYWxpemVcbiAqIC8vIDEuIFN0b3JlIHVzZXIgZGV0YWlscy5cbiAqIC8vIDIuIFVzZSB0aG9zZSBkZXRhaWxzIHRvIGNyZWF0ZSBzZWdtZW50cy5cbiAqIC8vIDMuIEluY2x1ZGUgdGhvc2UgZGV0YWlscyBpbiB5b3VyIG5vdGlmaWNhdGlvbnMuXG4gKiB0aGlzLndvbmRlclB1c2gucHV0UHJvcGVydGllcyh7XG4gKiAgIHN0cmluZ19uYW1lOiAnSm9obiBELicsXG4gKiAgIGludF9hZ2U6IDI0XG4gKiB9KTtcbiAqXG4gKiAvLyBHRFBSXG4gKiAvLyAxLiBzZXQgUkVRVUlSRVNfVVNFUl9DT05TRU5UPXRydWUgdG8gZW5hYmxlIEdEUFIgY29tcGxpYW5jZS5cbiAqIC8vIDIuIFdvbmRlclB1c2ggZG9lc24ndCBzdGFydCB1bnRpbCBzZXRVc2VyQ29uc2VudCh0cnVlKSBpcyBjYWxsZWQuXG4gKiBjb25zdCBvbkNsaWNrID0gKHVzZXJDb25zZW50OiBib29sZWFuKSA9PiB0aGlzLndvbmRlclB1c2guc2V0VXNlckNvbnNlbnQodXNlckNvbnNlbnQpO1xuICpcbiAqIC8vIExpc3RlbiB0byBub3RpZmljYXRpb24gY2xpY2tzXG4gKiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3b25kZXJwdXNoLm5vdGlmaWNhdGlvbk9wZW4nLCBmdW5jdGlvbihldmVudCkge1xuICogICBjb25zb2xlLmxvZygnTm90aWZpY2F0aW9uIG9wZW5lZCcsIGV2ZW50Lm5vdGlmaWNhdGlvbik7XG4gKiAgIGlmIChldmVudC5ub3RpZmljYXRpb25UeXBlID09PSAnZGF0YScpIHtcbiAqICAgICBjb25zb2xlLmxvZygnU2lsZW50IG5vdGlmaWNhdGlvbicsIGV2ZW50Lm5vdGlmaWNhdGlvbik7XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKiBAaW50ZXJmYWNlc1xuICogV29uZGVyUHVzaENoYW5uZWxcbiAqIFdvbmRlclB1c2hDaGFubmVsR3JvdXBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdXb25kZXJQdXNoJyxcbiAgcGx1Z2luOiAnd29uZGVycHVzaC1jb3Jkb3ZhLXNkaycsXG4gIHBsdWdpblJlZjogJ1dvbmRlclB1c2gnLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3dvbmRlcnB1c2gvd29uZGVycHVzaC1jb3Jkb3ZhLXNkaycsXG4gIGluc3RhbGw6XG4gICAgJ2lvbmljIGNvcmRvdmEgcGx1Z2luIGFkZCB3b25kZXJwdXNoLWNvcmRvdmEtc2RrIC0tdmFyaWFibGUgQ0xJRU5UX0lEPVlPVVJfQ0xJRU5UX0lEIC0tdmFyaWFibGUgQ0xJRU5UX1NFQ1JFVD1ZT1VSX0NMSUVOVF9TRUNSRVQgJyxcbiAgaW5zdGFsbFZhcmlhYmxlczogWydDTElFTlRfSUQnLCAnQ0xJRU5UX1NFQ1JFVCddLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV29uZGVyUHVzaCBleHRlbmRzIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIHVzZXIgaWQsIHVzZWQgdG8gaWRlbnRpZnkgYSBzaW5nbGUgaWRlbnRpdHkgYWNyb3NzIG11bHRpcGxlIGRldmljZXMsXG4gICAqIGFuZCB0byBjb3JyZWN0bHkgaWRlbnRpZnkgbXVsdGlwbGUgdXNlcnMgb24gYSBzaW5nbGUgZGV2aWNlLlxuICAgKlxuICAgKiBJZiBub3QgY2FsbGVkLCB0aGUgbGFzdCB1c2VkIHVzZXIgaWQgaXQgYXNzdW1lZC4gRGVmYXVsdGluZyB0byBgbnVsbGAgaWYgbm9uZSBpcyBrbm93bi5cbiAgICpcbiAgICogVXBvbiBjaGFuZ2luZyB1c2VySWQsIHRoZSBhY2Nlc3MgdG9rZW4gaXMgd2lwZWQsIHNvIGF2b2lkIHVubmVjZXNzYXJ5IGNhbGxzLCBsaWtlIGNhbGxpbmcgd2l0aCBgbnVsbGBcbiAgICoganVzdCBiZWZvcmUgY2FsbGluZyB3aXRoIGEgdXNlciBpZC5cbiAgICpcbiAgICogQHBhcmFtIHs/c3RyaW5nfSB1c2VySWQgLSBUaGUgdXNlciBpZCwgdW5pcXVlIHRvIHlvdXIgYXBwbGljYXRpb24uXG4gICAqICAgVXNlIGBudWxsYCBmb3IgYW5vbnltb3VzIHVzZXJzLlxuICAgKlxuICAgKiAgIFlvdSBhcmUgc3Ryb25nbHkgZW5jb3VyYWdlZCB0byB1c2UgeW91ciBvd24gdW5pcXVlIGludGVybmFsIGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuXG4gIEBDb3Jkb3ZhKClcbiAgc2V0VXNlcklkKHVzZXJJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIG5hdGl2ZSBTREsgbG9nZ2luZy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIC0gV2hldGhlciB0byBlbmFibGUgbG9ncy5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0TG9nZ2luZyhlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCBhIGRlbGVnYXRlIGZvciB0aWdodGVyIGludGVncmF0aW9uLCBvciByZW1vdmVzIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gez9Xb25kZXJQdXNoRGVsZWdhdGV9IGRlbGVnYXRlIC0gVGhlIGRlbGVnYXRlIHRvIHNldCwgb3IgYG51bGxgIHRvIHJlbW92ZSBpdC5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0RGVsZWdhdGUoZGVsZWdhdGU6IFdvbmRlclB1c2hEZWxlZ2F0ZSB8IG51bGwpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGRlbGVnYXRlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxXb25kZXJQdXNoRGVsZWdhdGUgfCBudWxsPn0gQSBwcm9taXNlIHdpdGggdGhlIGRlbGVnYXRlIG9mIG51bGxcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0RGVsZWdhdGUoKTogUHJvbWlzZTxXb25kZXJQdXNoRGVsZWdhdGUgfCBudWxsPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHVzZXJJZCBjdXJyZW50bHkgaW4gdXNlLCBgbnVsbGAgYnkgZGVmYXVsdC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nIHwgbnVsbD59IEEgcHJvbWlzZSB3aXRoIHRoZSB1c2VyIElEIG9yIG51bGxcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0VXNlcklkKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbnN0YWxsYXRpb25JZCBpZGVudGlmeWluZyB5b3VyIGFwcGxpY2F0aW9uIG9uIGEgZGV2aWNlLCBib25kIHRvIGEgc3BlY2lmaWMgdXNlcklkLlxuICAgKiBJZiB5b3Ugd2FudCB0byBzdG9yZSB0aGlzIGluZm9ybWF0aW9uIG9uIHlvdXIgc2VydmVycywga2VlcCB0aGUgY29ycmVzcG9uZGluZyB1c2VySWQgd2l0aCBpdC5cbiAgICogV2lsbCByZXR1cm4gYG51bGxgIHVudGlsIHRoZSBTREsgaXMgcHJvcGVybHkgaW5pdGlhbGl6ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZyB8IG51bGw+fSBBIHByb21pc2Ugd2l0aCB0aGUgaW5zdGFsbGF0aW9uIElEIG9yIG51bGxcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0SW5zdGFsbGF0aW9uSWQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHVuaXF1ZSBkZXZpY2UgaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmcgfCBudWxsPn0gQSBwcm9taXNlIHdpdGggdGhlIGRldmljZSBJRCBvciBudWxsXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldERldmljZUlkKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwdXNoIHRva2VuLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmcgfCBudWxsPn0gQSBwcm9taXNlIHdpdGggdGhlIHB1c2ggdG9rZW4gb3IgYG51bGxgXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFB1c2hUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudGx5IHVzZWQgYWNjZXNzIHRva2VuLlxuICAgKiBSZXR1cm5zIGBudWxsYCB1bnRpbCB0aGUgU0RLIGlzIHByb3Blcmx5IGluaXRpYWxpemVkLlxuICAgKiBUaGlzIHRvZ2V0aGVyIHdpdGggeW91ciBjbGllbnQgc2VjcmV0IGdpdmVzIGVudGlyZSBjb250cm9sIHRvIHRoZSBjdXJyZW50IGluc3RhbGxhdGlvbiBhbmQgYXNzb2NpYXRlZCB1c2VyLCB5b3Ugc2hvdWxkIG5vdCBkaXNjbG9zZSBpdCB1bm5lY2Vzc2FyaWx5LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmcgfCBudWxsPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0QWNjZXNzVG9rZW4oKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYW4gZXZlbnQgdG8gYmUgdHJhY2tlZCB0byBXb25kZXJQdXNoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlLCBvciBuYW1lLiBFdmVudCB0eXBlcyBzdGFydGluZyB3aXRoIGFuIGBAYCBjaGFyYWN0ZXIgYXJlIHJlc2VydmVkLlxuICAgKiBAcGFyYW0gez9vYmplY3R9IFthdHRyaWJ1dGVzXSAtIEFuIG9iamVjdCBjb250YWluaW5nIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBldmVudC5cbiAgICogICBUaGUga2V5cyBzaG91bGQgYmUgcHJlZml4ZWQgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHRoZWlyIHZhbHVlcy5cbiAgICogICBZb3UgY2FuIGZpbmQgdGhlIGRldGFpbHMgaW4gdGhlIFtDb25jZXB0cyA+IEN1c3RvbSBmaWVsZHNdKGh0dHBzOi8vd3d3LndvbmRlcnB1c2guY29tL2RvY3MvZ3VpZGUvY3VzdG9tLWZpZWxkcykgc2VjdGlvbiBvZiB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgdHJhY2tFdmVudCh0eXBlOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIG9uZSBvciBtb3JlIHRhZ3MgdG8gdGhlIGluc3RhbGxhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHRhZyAtIFRoZSB0YWdzIHRvIGFkZCB0byB0aGUgaW5zdGFsbGF0aW9uLiBZb3UgY2FuIHVzZSBlaXRoZXIgYSBzaW5nbGUgc3RyaW5nIGFyZ3VtZW50IG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGFkZFRhZyh0YWc6IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSB0YWdzIGZyb20gdGhlIGluc3RhbGxhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHRhZyAtIFRoZSB0YWdzIHRvIHJlbW92ZSBmcm9tIHRoZSBpbnN0YWxsYXRpb24uIFlvdSBjYW4gdXNlIGVpdGhlciBhIHNpbmdsZSBzdHJpbmcgYXJndW1lbnQgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVtb3ZlVGFnKHRhZzogc3RyaW5nIHwgc3RyaW5nW10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCB0YWdzIGZyb20gdGhlIGluc3RhbGxhdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVtb3ZlQWxsVGFncygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCB0aGUgdGFncyBvZiB0aGUgaW5zdGFsbGF0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmdbXT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFRhZ3MoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0cyB3aGV0aGVyIHRoZSBpbnN0YWxsYXRpb24gaGFzIHRoZSBnaXZlbiB0YWcgYXR0YWNoZWQgdG8gaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgLSBUaGUgdGFnIHRvIHRlc3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBoYXNUYWcodGFnOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgdG8gYSBnaXZlbiBpbnN0YWxsYXRpb24gcHJvcGVydHkuXG4gICAqXG4gICAqIFRoZSBwcmV2aW91cyB2YWx1ZSBpcyByZXBsYWNlZCBlbnRpcmVseS5cbiAgICogU2V0dGluZyBgdW5kZWZpbmVkYCBvciBgbnVsbGAgaGFzIHRoZSBzYW1lIGVmZmVjdCBhcyB7QGxpbmsgY29yZG92YS5wbHVnaW5zLldvbmRlclB1c2gjdW5zZXRQcm9wZXJ0eX0uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldFByb3BlcnR5KGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGluc3RhbGxhdGlvbiBwcm9wZXJ0eS5cbiAgICpcbiAgICogVGhlIHByZXZpb3VzIHZhbHVlIGlzIHJlcGxhY2VkIHdpdGggYG51bGxgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgdW5zZXRQcm9wZXJ0eShmaWVsZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgdmFsdWUgdG8gYSBnaXZlbiBpbnN0YWxsYXRpb24gcHJvcGVydHkuXG4gICAqXG4gICAqIFRoZSBzdG9yZWQgdmFsdWUgaXMgbWFkZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBvbmUuXG4gICAqIElmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBhcnJheSwgYWxsIGl0cyB2YWx1ZXMgYXJlIGFkZGVkLlxuICAgKiBJZiBhIHZhbHVlIGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgc3RvcmVkIHZhbHVlLCBpdCB3b24ndCBiZSBhZGRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgYWRkUHJvcGVydHkoZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSB2YWx1ZSBmcm9tIGEgZ2l2ZW4gaW5zdGFsbGF0aW9uIHByb3BlcnR5LlxuICAgKlxuICAgKiBUaGUgc3RvcmVkIHZhbHVlIGlzIG1hZGUgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgb25lLlxuICAgKiBJZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gYXJyYXksIGFsbCBpdHMgdmFsdWVzIGFyZSByZW1vdmVkLlxuICAgKiBJZiBhIHZhbHVlIGlzIHByZXNlbnQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIHN0b3JlZCB2YWx1ZSwgdGhleSB3aWxsIGFsbCBiZSByZW1vdmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlbW92ZVByb3BlcnR5KGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGluc3RhbGxhdGlvbiBwcm9wZXJ0eS5cbiAgICpcbiAgICogSWYgdGhlIHByb3BlcnR5IHN0b3JlcyBhbiBhcnJheSwgb25seSB0aGUgZmlyc3QgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAqIFRoaXMgd2F5IHlvdSBkb24ndCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWwgYXJyYXlzIGlmIHRoYXQgcHJvcGVydHkgaXMgbm90IHN1cHBvc2VkIHRvIGhvbGQgb25lLlxuICAgKiBSZXR1cm5zIGBudWxsYCBpZiB0aGUgcHJvcGVydHkgaXMgYWJzZW50IG9yIGhhcyBhbiBlbXB0eSBhcnJheSB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJlYWQgdmFsdWVzIGZyb21cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0UHJvcGVydHlWYWx1ZShmaWVsZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgdmFsdWVzIG9mIGEgZ2l2ZW4gaW5zdGFsbGF0aW9uIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiB0aGUgcHJvcGVydHkgZG9lcyBub3Qgc3RvcmUgYW4gYXJyYXksIGFuIGFycmF5IGlzIHJldHVybmVkIG5ldmVydGhlbGVzcy5cbiAgICogVGhpcyB3YXkgeW91IGRvbid0IGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbCBzY2FsYXIgdmFsdWVzIGlmIHRoYXQgcHJvcGVydHkgaXMgc3VwcG9zZWQgdG8gaG9sZCBhbiBhcnJheS5cbiAgICogUmV0dXJucyBhbiBlbXB0eSBhcnJheSBpbnN0ZWFkIG9mIGBudWxsYCBpZiB0aGUgcHJvcGVydHkgaXMgYWJzZW50LlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IHdyYXBwaW5nIGFueSBzY2FsYXIgdmFsdWUgaGVsZCBieSB0aGUgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byByZWFkIHZhbHVlcyBmcm9tXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0UHJvcGVydHlWYWx1ZXMoZmllbGQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGF0ZXN0IGtub3duIGN1c3RvbSBwcm9wZXJ0aWVzIGF0dGFjaGVkIHRvIHRoZSBjdXJyZW50IGluc3RhbGxhdGlvbiBvYmplY3Qgc3RvcmVkIGJ5IFdvbmRlclB1c2guXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtbcDogc3RyaW5nXTogYW55fT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFByb3BlcnRpZXMoKTogUHJvbWlzZTx7IFtrZXk6IHN0cmluZ106IGFueSB9PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByb3BlcnRpZXMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgaW5zdGFsbGF0aW9uIG9iamVjdCBzdG9yZWQgYnkgV29uZGVyUHVzaC5cbiAgICpcbiAgICogSW4gb3JkZXIgdG8gcmVtb3ZlIGEgdmFsdWUsIHVzZSBgbnVsbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7e1twOiBzdHJpbmddOiBhbnl9fSBwcm9wZXJ0aWVzLiBUaGUga2V5cyBzaG91bGQgYmUgcHJlZml4ZWQgYWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIHRoZWlyIHZhbHVlcy4gWW91IGNhbiBmaW5kIHRoZSBkZXRhaWxzIGluIHRoZSBbU2VnbWVudGF0aW9uID4gUHJvcGVydGllc10oaHR0cHM6Ly9kb2NzLndvbmRlcnB1c2guY29tL2RvY3MvcHJvcGVydGllcyNzZWN0aW9uLWN1c3RvbS1wcm9wZXJ0aWVzKSBzZWN0aW9uIG9mIHRoZSBkb2N1bWVudGF0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBwdXRQcm9wZXJ0aWVzKHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIHRvIHB1c2ggbm90aWZpY2F0aW9uIGFuZCByZWdpc3RlcnMgdGhlIGRldmljZSB0b2tlbiB3aXRoIFdvbmRlUHVzaC5cbiAgICpcbiAgICogT24gaU9TLCB5b3UgKiptdXN0KiogY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZCBhdCBsZWFzdCBvbmNlIHRvIG1ha2UgdGhlIG5vdGlmaWNhdGlvbiB2aXNpYmxlIHRvIHRoZSB1c2VyLlxuICAgKlxuICAgKiAtIFlvdSBjYW4gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcy4gVGhlIHVzZXIgaXMgb25seSBwcm9tcHRlZCBmb3IgcGVybWlzc2lvbiBieSBpT1Mgb25jZS5cbiAgICogLSBUaGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QgaWYgdGhlIHBlcm1pc3Npb24gaGFzIGFscmVhZHkgYmVlbiBncmFudGVkLCBidXQgaXQgZG9lcyBub3QgaGFybSBlaXRoZXIuXG4gICAqIC0gSWYgdGhlIHBlcm1pc3Npb24gaGFzIGJlZW4gZGVuaWVkIGluIHRoZSBPUywgdGhlIHVzZXIgd2lsbCBzdGF5IHNvZnQgb3B0LW91dC5cbiAgICpcbiAgICogQmVjYXVzZSBpbiBpT1MgeW91IG9ubHkgaGF2ZSAqb25lKiBjaGFuY2UgZm9yIHByb21wdGluZyB0aGUgdXNlciwgeW91IHNob3VsZCBmaW5kIGEgZ29vZCB0aW1pbmcgZm9yIHRoYXQuXG4gICAqIEZvciBhIHN0YXJ0LCB5b3UgY2FuIHN5c3RlbWF0aWNhbGx5IGNhbGwgaXQgd2hlbiB0aGUgYXBwbGljYXRpb24gc3RhcnRzLCBzbyB0aGF0IHRoZSB1c2VyIHdpbGwgYmUgcHJvbXB0ZWQgZGlyZWN0bHkgYXQgdGhlIGZpcnN0IGxhdW5jaC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB1cG9uIHN1Y2Nlc3NmdWwgc3Vic2NyaXB0aW9uXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHN1YnNjcmliZVRvTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIG5vdGlmaWNhdGlvbnMgYXJlIGVuYWJsZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc1N1YnNjcmliZWRUb05vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlcyBmcm9tIHB1c2ggbm90aWZpY2F0aW9uLlxuICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgdXNlciBhcyBzb2Z0IG9wdC1vdXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHVuc3Vic2NyaWJlRnJvbU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdXNlciBjb25zZW50IHN0YXRlLlxuICAgKiBSZXR1cm5zIHVuZGVmaW5lZCBpZiBubyBleHBsaWNpdCBjb25zZW50IHdhcyBzZXQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRVc2VyQ29uc2VudCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgb3Igd2l0aGRyYXdzIHVzZXIgY29uc2VudC5cbiAgICogSWYgdGhlIGByZXF1aXJlc1VzZXJDb25zZW50YCBpbml0aWFsaXphdGlvbiBvcHRpb24gaXMgdHJ1ZSxcbiAgICogdGhlIHdob2xlIFNESyBpcyBwYXVzZWQgYW5kIG5vIGRhdGEgaXMgc2VudCB0byBXb25kZXJQdXNoLCB1bnRpbCBjb25zZW50IGlzIHByb3ZpZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbnNlbnQgLVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRVc2VyQ29uc2VudChjb25zZW50OiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFueSBsb2NhbCBzdG9yYWdlIGFuZCBhc2sgdGhlIFdvbmRlclB1c2ggc2VydmVycyB0byBkZWxldGUgYW55IGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBhbGwgbG9jYWwgaW5zdGFsbGF0aW9ucyBhbmQgcmVsYXRlZCB1c2Vycy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJBbGxEYXRhKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzayB0aGUgV29uZGVyUHVzaCBzZXJ2ZXJzIHRvIGRlbGV0ZSBhbnkgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBhbGwgbG9jYWwgaW5zdGFsbGF0aW9ucy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJFdmVudHNIaXN0b3J5KCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzayB0aGUgV29uZGVyUHVzaCBzZXJ2ZXJzIHRvIGRlbGV0ZSBhbnkgY3VzdG9tIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBhbGwgbG9jYWwgaW5zdGFsbGF0aW9ucyBhbmQgcmVsYXRlZCB1c2Vycy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJQcmVmZXJlbmNlcygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIGRvd25sb2FkIG9mIGFsbCB1c2VyIHJlbW90ZSBhbmQgbG9jYWwgZGF0YS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZG93bmxvYWRBbGxEYXRhKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgVXNlclByZWZlcmVuY2VzID0gbmV3IFVzZXJQcmVmZXJlbmNlc01ldGhvZHModGhpcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHVzZXIncyBjb3VudHJ5LCBlaXRoZXIgYXMgcHJldmlvdXNseSBzdG9yZWQsIG9yIGFzIGd1ZXNzZWQgZnJvbSB0aGUgc3lzdGVtLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRDb3VudHJ5KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgdXNlcidzIGNvdW50cnkuIFlvdSBzaG91bGQgdXNlIGFuIElTTyAzMTY2LTEgYWxwaGEtMiBjb3VudHJ5IGNvZGUuIERlZmF1bHRzIHRvIGdldHRpbmcgdGhlIGNvdW50cnkgY29kZSBmcm9tIHRoZSBzeXN0ZW0gZGVmYXVsdCBsb2NhbGUuXG4gICAqIFVzZSBgbnVsbGAgdG8gZGlzYWJsZSB0aGUgb3ZlcnJpZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb3VudHJ5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRDb3VudHJ5KGNvdW50cnk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB1c2VyJ3MgY3VycmVuY3ksIGVpdGhlciBhcyBwcmV2aW91c2x5IHN0b3JlZCwgb3IgYXMgZ3Vlc3NlZCBmcm9tIHRoZSBzeXN0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldEN1cnJlbmN5KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgdXNlcidzIGN1cnJlbmN5LiBZb3Ugc2hvdWxkIHVzZSBhbiBJU08gNDIxNyBjdXJyZW5jeSBjb2RlLiBEZWZhdWx0cyB0byBnZXR0aW5nIHRoZSBjdXJyZW5jeSBjb2RlIGZyb20gdGhlIHN5c3RlbSBkZWZhdWx0IGxvY2FsZS5cbiAgICogVXNlIGBudWxsYCB0byBkaXNhYmxlIHRoZSBvdmVycmlkZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGN1cnJlbmN5IC1cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldEN1cnJlbmN5KGN1cnJlbmN5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdXNlcidzIGxvY2FsZSwgZWl0aGVyIGFzIHByZXZpb3VzbHkgc3RvcmVkLCBvciBhcyBndWVzc2VkIGZyb20gdGhlIHN5c3RlbS5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0TG9jYWxlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgdXNlcidzIGxvY2FsZS5cbiAgICogWW91IHNob3VsZCB1c2UgYW4gYHh4LVhYYCBmb3JtIG9mIFJGQyAxNzY2LCBjb21wb3NlZCBvZiBhIGxvd2VyY2FzZSBJU08gNjM5LTEgbGFuZ3VhZ2UgY29kZSwgYW4gdW5kZXJzY29yZSBvciBhIGRhc2gsIGFuZCBhbiB1cHBlcmNhc2UgSVNPIDMxNjYtMSBhbHBoYS0yIGNvdW50cnkgY29kZS5cbiAgICogRGVmYXVsdHMgdG8gZ2V0dGluZyB0aGUgbG9jYWxlIGNvZGUgZnJvbSB0aGUgc3lzdGVtIGRlZmF1bHQgbG9jYWxlLlxuICAgKiBVc2UgYG51bGxgIHRvIGRpc2FibGUgdGhlIG92ZXJyaWRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIC1cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldExvY2FsZShsb2NhbGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB1c2VyJ3MgdGltZSB6b25lLCBlaXRoZXIgYXMgcHJldmlvdXNseSBzdG9yZWQsIG9yIGFzIGd1ZXNzZWQgZnJvbSB0aGUgc3lzdGVtLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRUaW1lWm9uZSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBZb3Ugc2hvdWxkIHVzZSBhbiBJQU5BIHRpbWUgem9uZSBkYXRhYmFzZSBjb2RlcywgYENvbnRpbmVudC9Db3VudHJ5YCBzdHlsZSBwcmVmZXJhYmx5LCBhYmJyZXZpYXRpb25zIGxpa2UgYENFVGAsIGBQU1RgLCBgVVRDYCwgd2hpY2ggaGF2ZSB0aGUgZHJhd2JhY2sgb2YgY2hhbmdpbmcgb24gZGF5bGlnaHQgc2F2aW5nIHRyYW5zaXRpb25zLlxuICAgKiBEZWZhdWx0cyB0byBnZXR0aW5nIHRoZSB0aW1lIHpvbmUgY29kZSBmcm9tIHRoZSBzeXN0ZW0gZGVmYXVsdCBsb2NhbGUuXG4gICAqIFVzZSBgbnVsbGAgdG8gZGlzYWJsZSB0aGUgb3ZlcnJpZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lWm9uZSAtXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRUaW1lWm9uZSh0aW1lWm9uZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIGNvbGxlY3Rpb24gb2YgdGhlIHVzZXIncyBnZW9sb2NhdGlvbi5cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGVuYWJsZUdlb2xvY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgY29sbGVjdGlvbiBvZiB0aGUgdXNlcidzIGdlb2xvY2F0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGlzYWJsZUdlb2xvY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgdGhlIHVzZXIncyBnZW9sb2NhdGlvbi5cbiAgICogVXNpbmcgdGhpcyBtZXRob2QgeW91IGNhbiBoYXZlIHRoZSB1c2VyJ3MgbG9jYXRpb24gYmUgc2V0IHRvIHdoZXJldmVyIHlvdSB3YW50LlxuICAgKiBUaGlzIG1heSBiZSB1c2VmdWwgdG8gdXNlIGEgcHJlLXJlY29yZGVkIGxvY2F0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGF0aXR1ZGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvbmdpdHVkZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0R2VvbG9jYXRpb24obGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==