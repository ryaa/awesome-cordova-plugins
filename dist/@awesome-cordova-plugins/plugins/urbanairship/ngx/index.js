import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
/**
 * Enum for notification types.
 *
 * @readonly
 * @enum {number}
 */
export var NotificationType;
(function (NotificationType) {
    NotificationType[NotificationType["none"] = 0] = "none";
    NotificationType[NotificationType["badge"] = 1] = "badge";
    NotificationType[NotificationType["sound"] = 2] = "sound";
    NotificationType[NotificationType["alert"] = 4] = "alert";
})(NotificationType || (NotificationType = {}));
/**
 * Enum for presentation options.
 *
 * @readonly
 * @enum {number}
 */
export var PresentationOptions;
(function (PresentationOptions) {
    PresentationOptions[PresentationOptions["none"] = 0] = "none";
    PresentationOptions[PresentationOptions["badge"] = 1] = "badge";
    PresentationOptions[PresentationOptions["sound"] = 2] = "sound";
    PresentationOptions[PresentationOptions["alert"] = 4] = "alert";
})(PresentationOptions || (PresentationOptions = {}));
var UrbanAirShip = /** @class */ (function (_super) {
    __extends(UrbanAirShip, _super);
    function UrbanAirShip() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UrbanAirShip.prototype.onDeepLink = function () { return cordova(this, "onDeepLink", { "eventObservable": true, "event": "urbanairship.deep_link", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onRegistration = function () { return cordova(this, "onRegistration", { "eventObservable": true, "event": "urbanairship.registration", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onInboxUpdated = function () { return cordova(this, "onInboxUpdated", { "eventObservable": true, "event": "urbanairship.inbox_updated", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onShowInbox = function () { return cordova(this, "onShowInbox", { "eventObservable": true, "event": "urbanairship.show_inbox", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onPushReceived = function () { return cordova(this, "onPushReceived", { "eventObservable": true, "event": "urbanairship.push", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onNotificationOpened = function () { return cordova(this, "onNotificationOpened", { "eventObservable": true, "event": "urbanairship.notification_opened", "element": "document" }, arguments); };
    UrbanAirShip.prototype.onNotificationOptInStatus = function () { return cordova(this, "onNotificationOptInStatus", { "eventObservable": true, "event": "urbanairship.notification_opt_in_status", "element": "document" }, arguments); };
    UrbanAirShip.prototype.reattach = function () { return cordova(this, "reattach", { "sync": true }, arguments); };
    UrbanAirShip.prototype.takeOff = function (config) { return cordova(this, "takeOff", {}, arguments); };
    UrbanAirShip.prototype.setAndroidNotificationConfig = function (config) { return cordova(this, "setAndroidNotificationConfig", {}, arguments); };
    UrbanAirShip.prototype.setAutoLaunchDefaultMessageCenter = function (enabled) { return cordova(this, "setAutoLaunchDefaultMessageCenter", {}, arguments); };
    UrbanAirShip.prototype.setUserNotificationsEnabled = function (enabled) { return cordova(this, "setUserNotificationsEnabled", {}, arguments); };
    UrbanAirShip.prototype.isUserNotificationsEnabled = function () { return cordova(this, "isUserNotificationsEnabled", {}, arguments); };
    UrbanAirShip.prototype.isAppNotificationsEnabled = function () { return cordova(this, "isAppNotificationsEnabled", {}, arguments); };
    UrbanAirShip.prototype.getChannelID = function () { return cordova(this, "getChannelID", {}, arguments); };
    UrbanAirShip.prototype.getLaunchNotification = function (clear) { return cordova(this, "getLaunchNotification", {}, arguments); };
    UrbanAirShip.prototype.getDeepLink = function (clear) { return cordova(this, "getDeepLink", {}, arguments); };
    UrbanAirShip.prototype.getTags = function () { return cordova(this, "getTags", {}, arguments); };
    UrbanAirShip.prototype.setTags = function (tags) { return cordova(this, "setTags", {}, arguments); };
    UrbanAirShip.prototype.getAlias = function () { return cordova(this, "getAlias", {}, arguments); };
    UrbanAirShip.prototype.setAlias = function (alias) { return cordova(this, "setAlias", {}, arguments); };
    UrbanAirShip.prototype.isQuietTimeEnabled = function () { return cordova(this, "isQuietTimeEnabled", {}, arguments); };
    UrbanAirShip.prototype.setQuietTimeEnabled = function (enabled) { return cordova(this, "setQuietTimeEnabled", {}, arguments); };
    UrbanAirShip.prototype.isInQuietTime = function () { return cordova(this, "isInQuietTime", {}, arguments); };
    UrbanAirShip.prototype.getQuietTime = function () { return cordova(this, "getQuietTime", {}, arguments); };
    UrbanAirShip.prototype.setQuietTime = function (startHour, startMinute, endHour, endMinute) { return cordova(this, "setQuietTime", {}, arguments); };
    UrbanAirShip.prototype.setAnalyticsEnabled = function (enabled) { return cordova(this, "setAnalyticsEnabled", {}, arguments); };
    UrbanAirShip.prototype.isAnalyticsEnabled = function () { return cordova(this, "isAnalyticsEnabled", {}, arguments); };
    UrbanAirShip.prototype.getNamedUser = function () { return cordova(this, "getNamedUser", {}, arguments); };
    UrbanAirShip.prototype.setNamedUser = function (namedUser) { return cordova(this, "setNamedUser", {}, arguments); };
    UrbanAirShip.prototype.runAction = function (actionName, actionValue) { return cordova(this, "runAction", {}, arguments); };
    UrbanAirShip.prototype.editNamedUserTagGroups = function () { return cordova(this, "editNamedUserTagGroups", { "sync": true }, arguments); };
    UrbanAirShip.prototype.editChannelTagGroups = function () { return cordova(this, "editChannelTagGroups", { "sync": true }, arguments); };
    UrbanAirShip.prototype.editChannelAttributes = function () { return cordova(this, "editChannelAttributes", { "sync": true }, arguments); };
    UrbanAirShip.prototype.editNamedUserAttributes = function () { return cordova(this, "editNamedUserAttributes", { "sync": true }, arguments); };
    UrbanAirShip.prototype.editChannelSubscriptionLists = function () { return cordova(this, "editChannelSubscriptionLists", { "sync": true }, arguments); };
    UrbanAirShip.prototype.editContactSubscriptionLists = function () { return cordova(this, "editContactSubscriptionLists", { "sync": true }, arguments); };
    UrbanAirShip.prototype.getChannelSubscriptionLists = function () { return cordova(this, "getChannelSubscriptionLists", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.getContactSubscriptionLists = function () { return cordova(this, "getContactSubscriptionLists", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.setAssociatedIdentifier = function (key, identifier) { return cordova(this, "setAssociatedIdentifier", {}, arguments); };
    UrbanAirShip.prototype.setLocationEnabled = function (enabled) { return cordova(this, "setLocationEnabled", {}, arguments); };
    UrbanAirShip.prototype.isLocationEnabled = function () { return cordova(this, "isLocationEnabled", {}, arguments); };
    UrbanAirShip.prototype.setBackgroundLocationEnabled = function (enabled) { return cordova(this, "setBackgroundLocationEnabled", {}, arguments); };
    UrbanAirShip.prototype.isBackgroundLocationEnabled = function () { return cordova(this, "isBackgroundLocationEnabled", {}, arguments); };
    UrbanAirShip.prototype.displayMessageCenter = function () { return cordova(this, "displayMessageCenter", {}, arguments); };
    UrbanAirShip.prototype.dismissMessageCenter = function () { return cordova(this, "dismissMessageCenter", {}, arguments); };
    UrbanAirShip.prototype.dismissInboxMessage = function () { return cordova(this, "dismissInboxMessage", {}, arguments); };
    UrbanAirShip.prototype.dismissOverlayInboxMessage = function () { return cordova(this, "dismissOverlayInboxMessage", {}, arguments); };
    UrbanAirShip.prototype.getInboxMessages = function () { return cordova(this, "getInboxMessages", {}, arguments); };
    UrbanAirShip.prototype.markInboxMessageRead = function (messageId) { return cordova(this, "markInboxMessageRead", {}, arguments); };
    UrbanAirShip.prototype.deleteInboxMessage = function (messageId) { return cordova(this, "deleteInboxMessage", {}, arguments); };
    UrbanAirShip.prototype.displayInboxMessage = function (messageId) { return cordova(this, "displayInboxMessage", {}, arguments); };
    UrbanAirShip.prototype.refreshInbox = function () { return cordova(this, "refreshInbox", {}, arguments); };
    UrbanAirShip.prototype.overlayInboxMessage = function (messageId) { return cordova(this, "overlayInboxMessage", {}, arguments); };
    UrbanAirShip.prototype.clearNotification = function (identifier) { return cordova(this, "clearNotification", {}, arguments); };
    UrbanAirShip.prototype.clearNotifications = function () { return cordova(this, "clearNotifications", {}, arguments); };
    UrbanAirShip.prototype.getActiveNotifications = function () { return cordova(this, "getActiveNotifications", {}, arguments); };
    UrbanAirShip.prototype.setAutobadgeEnabled = function (enabled) { return cordova(this, "setAutobadgeEnabled", {}, arguments); };
    UrbanAirShip.prototype.setBadgeNumber = function (count) { return cordova(this, "setBadgeNumber", {}, arguments); };
    UrbanAirShip.prototype.getBadgeNumber = function () { return cordova(this, "getBadgeNumber", {}, arguments); };
    UrbanAirShip.prototype.resetBadge = function () { return cordova(this, "resetBadge", {}, arguments); };
    UrbanAirShip.prototype.setNotificationTypes = function (types) { return cordova(this, "setNotificationTypes", {}, arguments); };
    UrbanAirShip.prototype.setPresentationOptions = function (options) { return cordova(this, "setPresentationOptions", {}, arguments); };
    UrbanAirShip.prototype.isSoundEnabled = function () { return cordova(this, "isSoundEnabled", {}, arguments); };
    UrbanAirShip.prototype.setSoundEnabled = function (enabled) { return cordova(this, "setSoundEnabled", {}, arguments); };
    UrbanAirShip.prototype.isVibrateEnabled = function () { return cordova(this, "isVibrateEnabled", {}, arguments); };
    UrbanAirShip.prototype.setVibrateEnabled = function (enabled) { return cordova(this, "setVibrateEnabled", {}, arguments); };
    UrbanAirShip.prototype.addCustomEvent = function (event) { return cordova(this, "addCustomEvent", {}, arguments); };
    UrbanAirShip.prototype.trackScreen = function (screen) { return cordova(this, "trackScreen", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.enableFeature = function (features) { return cordova(this, "enableFeature", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.disableFeature = function (features) { return cordova(this, "disableFeature", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    /**
     * Sets the current enabled features, replacing any currently enabled features with the given set.
     *
     * @param {Array<string>} features The features to set as enabled.
     * @param {Function} [success] Success callback.
     * @param {function(message)} [failure] Failure callback.
     * @param {string} failure.message The error message.
     * @since 13.0.0
     */
    UrbanAirShip.prototype.setEnabledFeatures = function (features) {
        return;
    };
    UrbanAirShip.prototype.getEnabledFeatures = function () { return cordova(this, "getEnabledFeatures", { "successIndex": 0, "errorIndex": 1 }, arguments); };
    UrbanAirShip.prototype.isFeatureEnabled = function (features) { return cordova(this, "isFeatureEnabled", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.getPreferenceCenterConfig = function (preferenceCenterId) { return cordova(this, "getPreferenceCenterConfig", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.prototype.openPreferenceCenter = function (prenferenceCenterId) { return cordova(this, "openPreferenceCenter", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    UrbanAirShip.pluginName = "UrbanAirShip";
    UrbanAirShip.plugin = "urbanairship-cordova";
    UrbanAirShip.pluginRef = "window.UAirship";
    UrbanAirShip.repo = "https://www.npmjs.com/package/urbanairship-cordova";
    UrbanAirShip.install = "ionic cordova plugin add urbanairship-cordova";
    UrbanAirShip.platforms = ["Android", "iOS"];
    UrbanAirShip.decorators = [
        { type: Injectable }
    ];
    return UrbanAirShip;
}(AwesomeCordovaNativePlugin));
export { UrbanAirShip };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvdXJiYW5haXJzaGlwL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLHVDQUErQyxNQUFNLCtCQUErQixDQUFDO0FBQzVGLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFzQ2xDOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFOLElBQVksZ0JBS1g7QUFMRCxXQUFZLGdCQUFnQjtJQUMxQix1REFBUSxDQUFBO0lBQ1IseURBQVMsQ0FBQTtJQUNULHlEQUFTLENBQUE7SUFDVCx5REFBUyxDQUFBO0FBQ1gsQ0FBQyxFQUxXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFLM0I7QUFFRDs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBTixJQUFZLG1CQUtYO0FBTEQsV0FBWSxtQkFBbUI7SUFDN0IsNkRBQVEsQ0FBQTtJQUNSLCtEQUFTLENBQUE7SUFDVCwrREFBUyxDQUFBO0lBQ1QsK0RBQVMsQ0FBQTtBQUNYLENBQUMsRUFMVyxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBSzlCOztJQStCaUMsZ0NBQTBCOzs7O0lBYTFELGlDQUFVO0lBa0JWLHFDQUFjO0lBY2QscUNBQWM7SUFpQmQsa0NBQVc7SUFzQlgscUNBQWM7SUFxQmQsMkNBQW9CO0lBdUJwQixnREFBeUI7SUFVekIsK0JBQVE7SUFzQlIsOEJBQU8sYUFBQyxNQUFXO0lBYW5CLG1EQUE0QixhQUFDLE1BQVc7SUFjeEMsd0RBQWlDLGFBQUMsT0FBZ0I7SUFhbEQsa0RBQTJCLGFBQUMsT0FBZ0I7SUFhNUMsaURBQTBCO0lBYzFCLGdEQUF5QjtJQWF6QixtQ0FBWTtJQWlCWiw0Q0FBcUIsYUFBQyxLQUFjO0lBY3BDLGtDQUFXLGFBQUMsS0FBYztJQWExQiw4QkFBTztJQWFQLDhCQUFPLGFBQUMsSUFBYztJQWN0QiwrQkFBUTtJQWNSLCtCQUFRLGFBQUMsS0FBYTtJQWF0Qix5Q0FBa0I7SUFhbEIsMENBQW1CLGFBQUMsT0FBZ0I7SUFhcEMsb0NBQWE7SUFrQmIsbUNBQVk7SUFnQlosbUNBQVksYUFBQyxTQUFpQixFQUFFLFdBQW1CLEVBQUUsT0FBZSxFQUFFLFNBQWlCO0lBa0J2RiwwQ0FBbUIsYUFBQyxPQUFnQjtJQWFwQyx5Q0FBa0I7SUFhbEIsbUNBQVk7SUFhWixtQ0FBWSxhQUFDLFNBQWlCO0lBZTlCLGdDQUFTLGFBQUMsVUFBa0IsRUFBRSxXQUFnQjtJQVE5Qyw2Q0FBc0I7SUFRdEIsMkNBQW9CO0lBUXBCLDRDQUFxQjtJQVFyQiw4Q0FBdUI7SUFXdkIsbURBQTRCO0lBVzVCLG1EQUE0QjtJQWdCNUIsa0RBQTJCO0lBZ0IzQixrREFBMkI7SUFjM0IsOENBQXVCLGFBQUMsR0FBVyxFQUFFLFVBQWtCO0lBZXZELHlDQUFrQixhQUFDLE9BQWdCO0lBY25DLHdDQUFpQjtJQWNqQixtREFBNEIsYUFBQyxPQUFnQjtJQWM3QyxrREFBMkI7SUFZM0IsMkNBQW9CO0lBWXBCLDJDQUFvQjtJQVlwQiwwQ0FBbUI7SUFhbkIsaURBQTBCO0lBbUIxQix1Q0FBZ0I7SUFhaEIsMkNBQW9CLGFBQUMsU0FBaUI7SUFhdEMseUNBQWtCLGFBQUMsU0FBaUI7SUFhcEMsMENBQW1CLGFBQUMsU0FBaUI7SUFlckMsbUNBQVk7SUFjWiwwQ0FBbUIsYUFBQyxTQUFpQjtJQVlyQyx3Q0FBaUIsYUFBQyxVQUFrQjtJQVlwQyx5Q0FBa0I7SUFhbEIsNkNBQXNCO0lBZXRCLDBDQUFtQixhQUFDLE9BQWdCO0lBYXBDLHFDQUFjLGFBQUMsS0FBYTtJQWE1QixxQ0FBYztJQVlkLGlDQUFVO0lBY1YsMkNBQW9CLGFBQUMsS0FBdUI7SUFjNUMsNkNBQXNCLGFBQUMsT0FBNEI7SUFlbkQscUNBQWM7SUFhZCxzQ0FBZSxhQUFDLE9BQWdCO0lBYWhDLHVDQUFnQjtJQWFoQix3Q0FBaUIsYUFBQyxPQUFnQjtJQWlCbEMscUNBQWMsYUFBQyxLQUFhO0lBaUI1QixrQ0FBVyxhQUFDLE1BQWM7SUFpQjFCLG9DQUFhLGFBQUMsUUFBa0I7SUFpQmhDLHFDQUFjLGFBQUMsUUFBa0I7SUFJakM7Ozs7Ozs7O09BUUc7SUFDSCx5Q0FBa0IsR0FBbEIsVUFBbUIsUUFBa0I7UUFDbkMsT0FBTztJQUNULENBQUM7SUFjRCx5Q0FBa0I7SUFpQmxCLHVDQUFnQixhQUFDLFFBQWtCO0lBaUJuQyxnREFBeUIsYUFBQyxrQkFBMEI7SUFpQnBELDJDQUFvQixhQUFDLG1CQUEyQjs7Ozs7Ozs7Z0JBNWpDakQsVUFBVTs7dUJBOUZYO0VBK0ZrQywwQkFBMEI7U0FBL0MsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFBsdWdpbiwgQ29yZG92YSwgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4gfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBVQWlyc2hpcCBUYWcgRWRpdG9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFnR3JvdXBFZGl0b3Ige1xuICBhZGRUYWdzKHRhZ0dyb3VwOiBzdHJpbmcsIHRhZ3M6IHN0cmluZ1tdKTogVGFnR3JvdXBFZGl0b3I7XG4gIHJlbW92ZVRhZ3ModGFnR3JvdXA6IHN0cmluZywgdGFnczogc3RyaW5nW10pOiBUYWdHcm91cEVkaXRvcjtcbiAgYXBwbHkoc3VjY2VzczogKCkgPT4gdm9pZCwgZmFpbHVyZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCk6IFRhZ0dyb3VwRWRpdG9yO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgVUFpcnNoaXAgQXR0cmlidXRlcyBFZGl0b3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdHRyaWJ1dGVzRWRpdG9yIHtcbiAgc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBEYXRlKTogQXR0cmlidXRlc0VkaXRvcjtcbiAgcmVtb3ZlQXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IEF0dHJpYnV0ZXNFZGl0b3I7XG4gIGFwcGx5KHN1Y2Nlc3M6ICgpID0+IHZvaWQsIGZhaWx1cmU6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpOiBBdHRyaWJ1dGVzRWRpdG9yO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgVUFpcnNoaXAgQ2hhbm5lbFN1YnNjcmlwdGlvbkxpc3QgRWRpdG9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RFZGl0b3Ige1xuICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTGlzdElEOiBzdHJpbmcpOiBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdEVkaXRvcjtcbiAgdW5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uTGlzdElEOiBzdHJpbmcpOiBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdEVkaXRvcjtcbiAgYXBwbHkoc3VjY2VzczogKCkgPT4gdm9pZCwgZmFpbHVyZTogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCk6IENoYW5uZWxTdWJzY3JpcHRpb25MaXN0RWRpdG9yO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgVUFpcnNoaXAgQ29udGFjdFN1YnNjcmlwdGlvbkxpc3QgRWRpdG9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3Ige1xuICBzdWJzY3JpYmUoc3Vic2NyaXB0aW9uTGlzdElEOiBzdHJpbmcsIGNvbnRhY3RTY29wZTogJ0FQUCcgfCAnRU1BSUwnKTogQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3I7XG4gIHVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbkxpc3RJRDogc3RyaW5nLCBjb250YWN0U2NvcGU6ICdBUFAnIHwgJ0VNQUlMJyk6IENvbnRhY3RTdWJzY3JpcHRpb25MaXN0RWRpdG9yO1xuICBhcHBseShzdWNjZXNzOiAoKSA9PiB2b2lkLCBmYWlsdXJlOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKTogQ29udGFjdFN1YnNjcmlwdGlvbkxpc3RFZGl0b3I7XG59XG5cbi8qKlxuICogRW51bSBmb3Igbm90aWZpY2F0aW9uIHR5cGVzLlxuICpcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uVHlwZSB7XG4gIG5vbmUgPSAwLFxuICBiYWRnZSA9IDEsXG4gIHNvdW5kID0gMixcbiAgYWxlcnQgPSA0LFxufVxuXG4vKipcbiAqIEVudW0gZm9yIHByZXNlbnRhdGlvbiBvcHRpb25zLlxuICpcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gUHJlc2VudGF0aW9uT3B0aW9ucyB7XG4gIG5vbmUgPSAwLFxuICBiYWRnZSA9IDEsXG4gIHNvdW5kID0gMixcbiAgYWxlcnQgPSA0LFxufVxuXG4vKipcbiAqIEBuYW1lIFVyYmFuQWlyU2hpcFxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHBsdWdpbiBkb2VzIHNvbWV0aGluZ1xuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBVcmJhbkFpclNoaXAgfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvdXJiYW5haXJzaGlwL25neCc7XG4gKlxuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgdXJiYW5BaXJTaGlwOiBVcmJhbkFpclNoaXApIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLnVyYmFuQWlyU2hpcC50YWtlT2ZmKGNvbmZpZylcbiAqICAgLnRoZW4oKHJlczogYW55KSA9PiBjb25zb2xlLmxvZyhyZXMpKVxuICogICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAqXG4gKiBgYGBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdVcmJhbkFpclNoaXAnLFxuICBwbHVnaW46ICd1cmJhbmFpcnNoaXAtY29yZG92YScsXG4gIHBsdWdpblJlZjogJ3dpbmRvdy5VQWlyc2hpcCcsXG4gIHJlcG86ICdodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS91cmJhbmFpcnNoaXAtY29yZG92YScsXG4gIGluc3RhbGw6ICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgdXJiYW5haXJzaGlwLWNvcmRvdmEnLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVXJiYW5BaXJTaGlwIGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogRXZlbnQgZmlyZWQgd2hlbiBhIG5ldyBkZWVwIGxpbmsgaXMgcmVjZWl2ZWQuXG4gICAqXG4gICAqIEBldmVudCBkZWVwX2xpbmtcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWVwTGlua10gVGhlIGRlZXAgbGluay5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAuZGVlcF9saW5rJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbkRlZXBMaW5rKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYSBjaGFubmVsIHJlZ2lzdHJhdGlvbiBvY2N1cnMuXG4gICAqXG4gICAqIEBldmVudCByZWdpc3RyYXRpb25cbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFubmVsSURdIFRoZSBjaGFubmVsIElELlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3JlZ2lzdHJhdGlvblRva2VuXSBUaGUgZGV2aWNlVG9rZW4gb24gaU9TLCBhbmQgdGhlIEZDTS9BRE0gdG9rZW4gb24gQW5kcm9pZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtlcnJvcl0gRXJyb3IgbWVzc2FnZSBpZiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAucmVnaXN0cmF0aW9uJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvblJlZ2lzdHJhdGlvbigpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbmJveCBpcyB1cGRhdGVkLlxuICAgKlxuICAgKiBAZXZlbnQgaW5ib3hfdXBkYXRlZFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBldmVudDogJ3VyYmFuYWlyc2hpcC5pbmJveF91cGRhdGVkJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbkluYm94VXBkYXRlZCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSBpbmJveCBuZWVkcyB0byBiZSBkaXNwbGF5ZWQuIFRoaXMgZXZlbnQgaXMgb25seSBlbWl0dGVkIGlmIGF1dG9cbiAgICogbGF1bmNoIG1lc3NhZ2UgY2VudGVyIGlzIGRpc2FibGVkLlxuICAgKlxuICAgKiBAZXZlbnQgc2hvd19pbmJveFxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21lc3NhZ2VJZF0gVGhlIG9wdGlvbmFsIG1lc3NhZ2UgSUQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxuICAgIGV2ZW50OiAndXJiYW5haXJzaGlwLnNob3dfaW5ib3gnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uU2hvd0luYm94KCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gYSBwdXNoIGlzIHJlY2VpdmVkLlxuICAgKlxuICAgKiBAZXZlbnQgcHVzaFxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgcHVzaCBhbGVydCBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGhlIHB1c2ggdGl0bGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZSBUaGUgcHVzaCBzdWJ0aXRsZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV4dHJhcyBBbnkgcHVzaCBleHRyYXMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcHMgVGhlIHJhdyBhcHMgZGljdGlvbmFyeSAoaU9TIG9ubHkpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2Ygbm90aWZpY2F0aW9uSWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbm90aWZpY2F0aW9uSWRdIFRoZSBub3RpZmljYXRpb24gSUQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxuICAgIGV2ZW50OiAndXJiYW5haXJzaGlwLnB1c2gnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uUHVzaFJlY2VpdmVkKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGZpcmVkIHdoZW4gbm90aWZpY2F0aW9uIG9wZW5lZC5cbiAgICpcbiAgICogQGV2ZW50IG5vdGlmaWNhdGlvbl9vcGVuZWRcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIHB1c2ggYWxlcnQgbWVzc2FnZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV4dHJhcyBBbnkgcHVzaCBleHRyYXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2Ygbm90aWZpY2F0aW9uSWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbm90aWZpY2F0aW9uSWRdIFRoZSBub3RpZmljYXRpb24gSUQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYWN0aW9uSURdIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIGFjdGlvbiBidXR0b24gaWYgYXZhaWxhYmxlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRm9yZWdyb3VuZCBXaWxsIGFsd2F5cyBiZSB0cnVlIGlmIHRoZSB1c2VyIHRhcHMgdGhlIG1haW4gbm90aWZpY2F0aW9uLiBPdGhlcndpc2UgaXRzIGRlZmluZWQgYnkgdGhlIG5vdGlmaWNhdGlvbiBhY3Rpb24gYnV0dG9uLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcbiAgICBldmVudDogJ3VyYmFuYWlyc2hpcC5ub3RpZmljYXRpb25fb3BlbmVkJyxcbiAgICBlbGVtZW50OiAnZG9jdW1lbnQnLFxuICB9KVxuICBvbk5vdGlmaWNhdGlvbk9wZW5lZCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBmaXJlZCB3aGVuIHRoZSB1c2VyIG5vdGlmaWNhdGlvbiBvcHQtaW4gc3RhdHVzIGNoYW5nZXMuXG4gICAqXG4gICAqIEBldmVudCBub3RpZmljYXRpb25fb3B0X2luX3N0YXR1c1xuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdEluIElmIHRoZSB1c2VyIGlzIG9wdGVkIGluIG9yIG5vdCB0byB1c2VyIG5vdGlmaWNhdGlvbnMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbYXV0aG9yaXplZE5vdGlmaWNhdGlvblNldHRpbmdzXSBpT1Mgb25seS4gQSBtYXAgb2YgYXV0aG9yaXplZCBzZXR0aW5ncy5cbiAgICogQHBhcmFtIHtib29sZWFufSBhdXRob3JpemVkTm90aWZpY2F0aW9uU2V0dGluZ3MuYWxlcnQgSWYgYWxlcnRzIGFyZSBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5zb3VuZCBJZiBzb3VuZHMgYXJlIGF1dGhvcml6ZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0aG9yaXplZE5vdGlmaWNhdGlvblNldHRpbmdzLmJhZGdlIElmIGJhZGdlcyBhcmUgYXV0aG9yaXplZC5cbiAgICogQHBhcmFtIHtib29sZWFufSBhdXRob3JpemVkTm90aWZpY2F0aW9uU2V0dGluZ3MuY2FyUGxheSBJZiBjYXIgcGxheSBpcyBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5sb2NrU2NyZWVuIElmIHRoZSBsb2NrIHNjcmVlbiBpcyBhdXRob3JpemVkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dGhvcml6ZWROb3RpZmljYXRpb25TZXR0aW5ncy5ub3RpZmljYXRpb25DZW50ZXIgSWYgdGhlIG5vdGlmaWNhdGlvbiBjZW50ZXIgaXMgYXV0aG9yaXplZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXG4gICAgZXZlbnQ6ICd1cmJhbmFpcnNoaXAubm90aWZpY2F0aW9uX29wdF9pbl9zdGF0dXMnLFxuICAgIGVsZW1lbnQ6ICdkb2N1bWVudCcsXG4gIH0pXG4gIG9uTm90aWZpY2F0aW9uT3B0SW5TdGF0dXMoKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmUtYXR0YWNoZXMgZG9jdW1lbnQgZXZlbnQgbGlzdGVuZXJzIGluIHRoaXMgd2Vidmlld1xuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIHJlYXR0YWNoKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0YWlsaXplcyBVcmJhbiBBaXJzaGlwLlxuICAgKlxuICAgKiBUaGUgcGx1Z2luIHdpbGwgYXV0b21hdGljYWxseSBjYWxsIHRha2VPZmYgZHVyaW5nIHRoZSBuZXh0IGFwcCBpbml0IGluXG4gICAqIG9yZGVyIHRvIHByb3Blcmx5IGhhbmRsZSBpbmNvbWluZyBwdXNoLiBJZiB0YWtlT2ZmIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgKiBpbiBhIHNlc3Npb24sIG9yIGlmIHRoZSBjb25maWcgaXMgZGlmZmVyZW50IHRoYW4gdGhlIHByZXZpb3VzIHNlc3NzaW9uLCB0aGVcbiAgICogbmV3IGNvbmZpZyB3aWxsIG5vdCBiZSB1c2VkIHVudGlsIHRoZSBuZXh0IGFwcCBzdGFydC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9ICBjb25maWcgVGhlIFVyYmFuIEFpcnNoaXAgY29uZmlnLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5zaXRlIFNldHMgdGhlIGNsb3VkIHNpdGUsIG11c3QgYmUgZWl0aGVyIEVVIG9yIFVTLlxuICAgKiBAcGFyYW0ge29iamVjdH0gIGNvbmZpZy5kZXZlbG9wbWVudCBUaGUgVXJiYW4gQWlyc2hpcCBkZXZlbG9wbWVudCBjb25maWcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgY29uZmlnLmRldmVsb3BtZW50LmFwcEtleSBUaGUgZGV2ZWxvcG1lbnQgYXBwS2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5kZXZlbG9wbWVudC5hcHBTZWNyZXQgVGhlIGRldmVsb3BtZW50IGFwcFNlY3JldC5cbiAgICogQHBhcmFtIHtvYmplY3R9ICBjb25maWcucHJvZHVjdGlvbiBUaGUgVXJiYW4gQWlyc2hpcCBwcm9kdWN0aW9uIGNvbmZpZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9ICBjb25maWcucHJvZHVjdGlvbi5hcHBLZXkgVGhlIHByb2R1Y3Rpb24gYXBwS2V5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbmZpZy5wcm9kdWN0aW9uLmFwcFNlY3JldCBUaGUgcHJvZHVjdGlvbiBhcHBTZWNyZXQuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHRha2VPZmYoY29uZmlnOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBBbmRyb2lkIG5vdGlmaWNhdGlvbiBjb25maWcuIFZhbHVlcyBub3Qgc2V0IHdpbGwgZmFsbGJhY2sgdG8gYW55IHZhbHVlcyBzZXQgaW4gdGhlIGNvbmZpZy54bWwuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSAgY29uZmlnIFRoZSBub3RpZmljYXRpb24gY29uZmlnLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIFtjb25maWcuaWNvbl0gVGhlIG5hbWUgb2YgdGhlIGRyYXdhYmxlIHJlc291cmNlIHRvIHVzZSBhcyB0aGUgbm90aWZpY2F0aW9uIGljb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgW2NvbmZpZy5sYXJnZUljb25dIFRoZSBuYW1lIG9mIHRoZSBkcmF3YWJsZSByZXNvdXJjZSB0byB1c2UgYXMgdGhlIG5vdGlmaWNhdGlvbiBsYXJnZSBpY29uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gIFtjb25maWcuYWNjZW50Q29sb3JdIFRoZSBub3RpZmljYXRpb24gYWNjZW50IGNvbG9yLiBGb3JtYXQgaXMgI0FBUlJHR0JCLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRBbmRyb2lkTm90aWZpY2F0aW9uQ29uZmlnKGNvbmZpZzogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGVmYXVsdCBiZWhhdmlvciB3aGVuIHRoZSBtZXNzYWdlIGNlbnRlciBpcyBsYXVuY2hlZCBmcm9tIGEgcHVzaFxuICAgKiBub3RpZmljYXRpb24uIElmIHNldCB0byBmYWxzZSB0aGUgbWVzc2FnZSBjZW50ZXIgbXVzdCBiZSBtYW51YWxseSBsYXVuY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gYXV0b21hdGljYWxseSBsYXVuY2ggdGhlIGRlZmF1bHQgbWVzc2FnZSBjZW50ZXIsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QXV0b0xhdW5jaERlZmF1bHRNZXNzYWdlQ2VudGVyKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHVzZXIgbm90aWZpY2F0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIG5vdGlmaWNhdGlvbnMsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0VXNlck5vdGlmaWNhdGlvbnNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdXNlciBub3RpZmljYXRpb25zIGFyZSBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgdXNlciBub3RpZmljYXRpb25zIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNVc2VyTm90aWZpY2F0aW9uc0VuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFwcCBub3RpZmljYXRpb25zIGFyZSBlbmFibGVkIG9yIG5vdC4gSXRzIHBvc3NpYmxlIHRvIGhhdmUgYHVzZXJOb3RpZmljYXRpb25zRW5hYmxlZGBcbiAgICogYnV0IGFwcCBub3RpZmljYXRpb25zIGJlaW5nIGRpc2FibGVkIGlmIHRoZSB1c2VyIG9wdGVkIG91dCBvZiBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVuYWJsZWQpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5lbmFibGVkIEZsYWcgaW5kaWNhdGluZyBpZiBhcHAgbm90aWZpY2F0aW9ucyBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzQXBwTm90aWZpY2F0aW9uc0VuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2hhbm5lbCBJRC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihJRCl9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1Y2Nlc3MuSUQgVGhlIGNoYW5uZWwgSUQgc3RyaW5nXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0Q2hhbm5lbElEKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxhc3Qgbm90aWZpY2F0aW9uIHRoYXQgbGF1bmNoZWQgdGhlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIHRydWUgdG8gY2xlYXIgdGhlIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihwdXNoKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3VjY2Vzcy5wdXNoIFRoZSBwdXNoIG1lc3NhZ2Ugb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSBhc3NvY2lhdGVkIHdpdGggYSBwdXNoIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1Y2Nlc3MucHVzaC5tZXNzYWdlIFRoZSBwdXNoIGFsZXJ0IG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdWNjZXNzLnB1c2guZXh0cmFzIEFueSBwdXNoIGV4dHJhcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdWNjZXNzLnB1c2gubm90aWZpY2F0aW9uX2lkXSBUaGUgQW5kcm9pZCBub3RpZmljYXRpb24gSUQuXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0TGF1bmNoTm90aWZpY2F0aW9uKGNsZWFyOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFzdCByZWNlaXZlZCBkZWVwIGxpbmsuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgdHJ1ZSB0byBjbGVhciB0aGUgZGVlcCBsaW5rLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHB1c2gpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWNjZXNzLmRlZXBMaW5rIFRoZSBkZWVwIGxpbmsuXG4gICAqIEBwYXJhbSB7ZmFpbHVyZUNhbGxiYWNrfSBbZmFpbHVyZV0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gZmFpbHVyZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0RGVlcExpbmsoY2xlYXI6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0YWdzIGFzIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRhZ3MpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN1Y2Nlc3MudGFncyBUaGUgdGFncyBhcyBhbiBhcnJheS5cbiAgICogQHBhcmFtIHtmYWlsdXJlQ2FsbGJhY2t9IFtmYWlsdXJlXSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBmYWlsdXJlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRUYWdzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRhZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHRhZ3MgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRUYWdzKHRhZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWxpYXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgc2luY2UgNi43LjAgLSB0byBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgdGhlIHBsdWdpbiAtIHBsZWFzZSB1c2UgZ2V0TmFtZWRVc2VyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oY3VycmVudEFsaWFzKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzcy5jdXJyZW50QWxpYXMgVGhlIGFsaWFzIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0QWxpYXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYWxpYXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgc2luY2UgNi43LjAgIC0gdG8gYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIHRoZSBwbHVnaW4gLSBwbGVhc2UgdXNlIHNldE5hbWVkVXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpYXMgc3RyaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QWxpYXMoYWxpYXM6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBxdWlldCB0aW1lIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGVuYWJsZWQpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5lbmFibGVkIEZsYWcgaW5kaWNhdGluZyBpZiBxdWlldCB0aW1lIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNRdWlldFRpbWVFbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgcXVpZXQgdGltZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHF1aWV0IHRpbWUsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0UXVpZXRUaW1lRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBkZXZpY2UgaXMgY3VycmVudGx5IGluIHF1aWV0IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW5RdWlldFRpbWUpfSBzdWNjZXNzIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3VjY2Vzcy5pblF1aWV0VGltZSBGbGFnIGluZGljYXRpbmcgaWYgcXVpZXQgdGltZSBpcyBjdXJyZW50bHkgaW4gZWZmZWN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNJblF1aWV0VGltZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBxdWlldCB0aW1lIGFzIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmc6XG4gICAqIFwic3RhcnRIb3VyXCI6IE51bWJlcixcbiAgICogXCJzdGFydE1pbnV0ZVwiOiBOdW1iZXIsXG4gICAqIFwiZW5kSG91clwiOiBOdW1iZXIsXG4gICAqIFwiZW5kTWludXRlXCI6IE51bWJlclxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHF1aWV0VGltZSl9IHN1Y2Nlc3MgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN1Y2Nlc3MucXVpZXRUaW1lIFRoZSBxdWlldFRpbWUgb2JqZWN0IHJlcHJlc2VudHMgYSB0aW1lc3BhbiBkdXJpbmdcbiAgICogICAgICAgIHdoaWNoIG5vdGlmaWNhdGlvbnMgc2hvdWxkIGJlIHNpbGVuY2VkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0UXVpZXRUaW1lKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHF1aWV0IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEhvdXIgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydE1pbnV0ZSBmb3IgcXVpZXQgdGltZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEhvdXIgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRNaW51dGUgZm9yIHF1aWV0IHRpbWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0UXVpZXRUaW1lKHN0YXJ0SG91cjogbnVtYmVyLCBzdGFydE1pbnV0ZTogbnVtYmVyLCBlbmRIb3VyOiBudW1iZXIsIGVuZE1pbnV0ZTogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyBhbmFseXRpY3MuXG4gICAqXG4gICAqIERpc2FibGluZyBhbmFseXRpY3Mgd2lsbCBkZWxldGUgYW55IGxvY2FsbHkgc3RvcmVkIGV2ZW50c1xuICAgKiBhbmQgcHJldmVudCBhbnkgZXZlbnRzIGZyb20gdXBsb2FkaW5nLiBGZWF0dXJlcyB0aGF0IGRlcGVuZCBvbiBhbmFseXRpY3MgYmVpbmdcbiAgICogZW5hYmxlZCBtYXkgbm90IHdvcmsgcHJvcGVybHkgaWYgaXQncyBkaXNhYmxlZCAocmVwb3J0cywgcmVnaW9uIHRyaWdnZXJzLFxuICAgKiBsb2NhdGlvbiBzZWdtZW50YXRpb24sIHB1c2ggdG8gbG9jYWwgdGltZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSBhbmFseXRpY3MsIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QW5hbHl0aWNzRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFuYWx5dGljcyBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgYW5hbHl0aWNzIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNBbmFseXRpY3NFbmFibGVkKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5hbWVkIHVzZXIgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obmFtZWRVc2VyKX0gc3VjY2VzcyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdWNjZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzcy5uYW1lZFVzZXIgVGhlIG5hbWVkIHVzZXIgSUQgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXROYW1lZFVzZXIoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbmFtZWQgdXNlciBJRC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVkVXNlciBpZGVudGlmaWVyIHN0cmluZy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXROYW1lZFVzZXIobmFtZWRVc2VyOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIFVyYmFuIEFpcnNoaXAgYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZSBhY3Rpb24gYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7Kn0gYWN0aW9uVmFsdWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihyZXN1bHQpfSBbc3VjY2Vzc10gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgb24gc3VjY2Vzcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN1Y2Nlc3MucmVzdWx0IFRoZSByZXN1bHQncyB2YWx1ZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJ1bkFjdGlvbihhY3Rpb25OYW1lOiBzdHJpbmcsIGFjdGlvblZhbHVlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIG5hbWVkIHVzZXIgdGFnIGdyb3Vwcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0TmFtZWRVc2VyVGFnR3JvdXBzKCk6IFRhZ0dyb3VwRWRpdG9yIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlZGl0b3IgdG8gbW9kaWZ5IHRoZSBjaGFubmVsIHRhZyBncm91cHMuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZWRpdENoYW5uZWxUYWdHcm91cHMoKTogVGFnR3JvdXBFZGl0b3Ige1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIGNoYW5uZWwgYXR0cmlidXRlcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0Q2hhbm5lbEF0dHJpYnV0ZXMoKTogQXR0cmlidXRlc0VkaXRvciB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdG9yIHRvIG1vZGlmeSB0aGUgbmFtZWQgdXNlciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGVkaXROYW1lZFVzZXJBdHRyaWJ1dGVzKCk6IEF0dHJpYnV0ZXNFZGl0b3Ige1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVkaXRvciB0byBtb2RpZnkgdGhlIGNoYW5uZWwgc3Vic2NyaXB0aW9uIGxpc3RzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Q2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RFZGl0b3J9IEEgc3Vic2NyaXB0aW9uIGxpc3QgZWRpdG9yIGluc3RhbmNlLlxuICAgKiBAc2luY2UgMTMuMy4wXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZWRpdENoYW5uZWxTdWJzY3JpcHRpb25MaXN0cygpOiBDaGFubmVsU3Vic2NyaXB0aW9uTGlzdEVkaXRvciB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZWRpdG9yIHRvIG1vZGlmeSB0aGUgY29udGFjdCBzdWJzY3JpcHRpb24gbGlzdHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWN0U3Vic2NyaXB0aW9uTGlzdEVkaXRvcn0gQSBzdWJzY3JpcHRpb24gbGlzdCBlZGl0b3IgaW5zdGFuY2UuXG4gICAqIEBzaW5jZSAxMy4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlZGl0Q29udGFjdFN1YnNjcmlwdGlvbkxpc3RzKCk6IENvbnRhY3RTdWJzY3JpcHRpb25MaXN0RWRpdG9yIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzZXQgb2Ygc3Vic2NyaXB0aW9uIGxpc3RzIGZvciB0aGUgY3VycmVudCBjaGFubmVsLFxuICAgKiBvcHRpb25hbGx5IGFwcGx5aW5nIHBlbmRpbmcgc3Vic2NyaXB0aW9uIGxpc3QgY2hhbmdlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCBkdXJpbmcgdGhlIG5leHQgY2hhbm5lbCB1cGRhdGUuXG4gICAqIEFuIGVtcHR5IHNldCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGNvbnRhY3QgaXMgbm90IHN1YnNjcmliZWQgdG8gYW55IGxpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0Q2hhbm5lbFN1YnNjcmlwdGlvbkxpc3RzKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2V0IG9mIHN1YnNjcmlwdGlvbiBsaXN0cyBmb3IgdGhlIGN1cnJlbnQgY29udGFjdCxcbiAgICogb3B0aW9uYWxseSBhcHBseWluZyBwZW5kaW5nIHN1YnNjcmlwdGlvbiBsaXN0IGNoYW5nZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgZHVyaW5nIHRoZSBuZXh0IGNvbnRhY3QgdXBkYXRlLlxuICAgKiBBbiBlbXB0eSBzZXQgaW5kaWNhdGVzIHRoYXQgdGhpcyBjb250YWN0IGlzIG5vdCBzdWJzY3JpYmVkIHRvIGFueSBsaXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGdldENvbnRhY3RTdWJzY3JpcHRpb25MaXN0cygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIGFzc29jaWF0ZWQgaWRlbnRpZmllciBmb3IgdGhlIENvbm5lY3QgZGF0YSBzdHJlYW0uXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgQ3VzdG9tIGtleSBmb3IgaWRlbnRpZmllci5cbiAgICogQHBhcmFtIGlkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QXNzb2NpYXRlZElkZW50aWZpZXIoa2V5OiBzdHJpbmcsIGlkZW50aWZpZXI6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gTG9jYXRpb25cblxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyBVcmJhbiBBaXJzaGlwIGxvY2F0aW9uIHNlcnZpY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgbG9jYXRpb24sIGZhbHNlIHRvIGRpc2FibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0TG9jYXRpb25FbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgbG9jYXRpb24gaXMgZW5hYmxlZCBvciBub3QuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZW5hYmxlZCl9IHN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtib29sZWFufSBzdWNjZXNzLmVuYWJsZWQgRmxhZyBpbmRpY2F0aW5nIGlmIGxvY2F0aW9uIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQGRlcHJlY2F0ZWQgcmVtb3ZlZCBpbiB2ZXJzaW9uIDguMFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0xvY2F0aW9uRW5hYmxlZCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIGJhY2tncm91bmQgbG9jYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCB0cnVlIHRvIGVuYWJsZSBiYWNrZ3JvdW5kIGxvY2F0aW9uLCBmYWxzZSB0byBkaXNhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBkZXByZWNhdGVkIHJlbW92ZWQgaW4gdmVyc2lvbiA4LjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0QmFja2dyb3VuZExvY2F0aW9uRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGJhY2tncm91bmQgbG9jYXRpb24gaXMgZW5hYmxlZCBvciBub3QuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZW5hYmxlZCl9IHN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtib29sZWFufSBzdWNjZXNzLmVuYWJsZWQgRmxhZyBpbmRpY2F0aW5nIGlmIGJhY2tncm91bmQgbG9jYXRpb24gdXBkYXRlcyBhcmUgZW5hYmxlZCBvciBub3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAZGVwcmVjYXRlZCByZW1vdmVkIGluIHZlcnNpb24gOC4wXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzQmFja2dyb3VuZExvY2F0aW9uRW5hYmxlZCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgbWVzc2FnZSBjZW50ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGlzcGxheU1lc3NhZ2VDZW50ZXIoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzbWlzcyB0aGUgbWVzc2FnZSBjZW50ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGlzbWlzc01lc3NhZ2VDZW50ZXIoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzbWlzcyB0aGUgaW5ib3ggbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNtaXNzSW5ib3hNZXNzYWdlKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc21pc3MgdGhlIGluYm94IG1lc3NhZ2UgaW4gdGhlIG92ZXJsYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQGRlcHJlY2F0ZWQgcmVtb3ZlZCBpbiB2ZXJzaW9uIDEwLjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZGlzbWlzc092ZXJsYXlJbmJveE1lc3NhZ2UoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYXJyYXkgb2YgaW5ib3ggbWVzc2FnZXMuIEVhY2ggbWVzc2FnZSB3aWxsIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiBcImlkXCI6IHN0cmluZyAtIFRoZSBtZXNzYWdlcyBJRC4gTmVlZGVkIHRvIGRpc3BsYXksIG1hcmsgYXMgcmVhZCwgb3IgZGVsZXRlIHRoZSBtZXNzYWdlLlxuICAgKiBcInRpdGxlXCI6IHN0cmluZyAtIFRoZSBtZXNzYWdlIHRpdGxlLlxuICAgKiBcInNlbnREYXRlXCI6IG51bWJlciAtIFRoZSBtZXNzYWdlIHNlbnQgZGF0ZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFwibGlzdEljb25VcmxcIjogc3RyaW5nLCBvcHRpb25hbCAtIFRoZSBpY29uIHVybCBmb3IgdGhlIG1lc3NhZ2UuXG4gICAqIFwiaXNSZWFkXCI6IGJvb2xlYW4gLSBUaGUgdW5yZWFkL3JlYWQgc3RhdHVzIG9mIHRoZSBtZXNzYWdlLlxuICAgKiBcImV4dHJhc1wiOiBvYmplY3QgLSBTdHJpbmcgdG8gU3RyaW5nIG1hcCBvZiBhbnkgbWVzc2FnZSBleHRyYXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZXMpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN1Y2Nlc3MubWVzc2FnZXMgVGhlIGFycmF5IG9mIGluYm94IG1lc3NhZ2VzLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0SW5ib3hNZXNzYWdlcygpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrcyBhbiBpbmJveCBtZXNzYWdlIHJlYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSWQgVGhlIElEIG9mIHRoZSBtZXNzYWdlIHRvIG1hcmsgYXMgcmVhZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBtYXJrSW5ib3hNZXNzYWdlUmVhZChtZXNzYWdlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYW4gaW5ib3ggbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gZGVsZXRlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGRlbGV0ZUluYm94TWVzc2FnZShtZXNzYWdlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBpbmJveCBtZXNzYWdlIHVzaW5nIGEgZnVsbCBzY3JlZW4gdmlldy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gZGlzcGxheS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBkaXNwbGF5SW5ib3hNZXNzYWdlKG1lc3NhZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRm9yY2VzIHRoZSBpbmJveCB0byByZWZyZXNoLiBUaGlzIGlzIG5vcm1hbGx5IG5vdCBuZWVkZWQgYXMgdGhlIGluYm94XG4gICAqIHdpbGwgYXV0b21hdGljYWxseSByZWZyZXNoIG9uIGZvcmVncm91bmQgb3Igd2hlbiBhIHB1c2ggYXJyaXZlcyB0aGF0c1xuICAgKiBhc3NvY2lhdGVkIHdpdGggYSBtZXNzYWdlLCBidXQgaXQgY2FuIGJlIHVzZWZ1bCB3aGVuIHByb3ZpZGluZyBhIHJlZnJlc2hcbiAgICogYnV0dG9uIGZvciB0aGUgbWVzc2FnZSBsaXN0aW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlZnJlc2hJbmJveCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgaW5ib3ggbWVzc2FnZSB1c2luZyBhbiBvdmVybGF5IGRpc3BsYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSWQgVGhlIElEIG9mIHRoZSBtZXNzYWdlIHRvIGRpc3BsYXkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQGRlcHJlY2F0ZWQgcmVtb3ZlZCBpbiB2ZXJzaW9uIDEwLjBcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgb3ZlcmxheUluYm94TWVzc2FnZShtZXNzYWdlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyBhIG5vdGlmaWNhdGlvbiBieSBpZGVudGlmaWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBUaGUgbm90aWZpY2F0aW9uIGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJOb3RpZmljYXRpb24oaWRlbnRpZmllcjogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBub3RpZmljYXRpb25zIHBvc3RlZCBieSB0aGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgY2xlYXJOb3RpZmljYXRpb25zKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY3VycmVudGx5IGFjdGl2ZSBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBOb3RlOiBPbiBBbmRyb2lkIHRoaXMgZnVuY3Rpb25hbGl0eSBpcyBvbmx5IHN1cHBvcnRlZCBvbiBBbmRyb2lkIE0gb3IgaGlnaGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2VzKX0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXRBY3RpdmVOb3RpZmljYXRpb25zKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gaU9TIG9ubHlcblxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyBhdXRvIGJhZGdlLiBEZWZhdWx0cyB0byBgTk9gLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgYXV0byBiYWRnZSwgZmFsc2UgdG8gZGlzYWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRBdXRvYmFkZ2VFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBiYWRnZSBudW1iZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjb3VudCBudW1iZXIgc3BlY2lmaWVkIGJhZGdlIHRvIHNldC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRCYWRnZU51bWJlcihjb3VudDogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBiYWRnZSBudW1iZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oYmFkZ2VOdW1iZXIpfSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7aW50fSBzdWNjZXNzLmJhZGdlTnVtYmVyIFRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIGJhZGdlIG51bWJlci5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldEJhZGdlTnVtYmVyKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgYmFkZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVzZXRCYWRnZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpT1Mgbm90aWZpY2F0aW9uIHR5cGVzLiBTcGVjaWZ5IHRoZSBjb21iaW5hdGlvbiBvZlxuICAgKiBiYWRnZXMsIHNvdW5kIGFuZCBhbGVydHMgdGhhdCBhcmUgZGVzaXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGVzIHNwZWNpZmllZCBub3RpZmljYXRpb24gdHlwZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0Tm90aWZpY2F0aW9uVHlwZXModHlwZXM6IE5vdGlmaWNhdGlvblR5cGUpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpT1MgcHJlc2VudGF0aW9uIG9wdGlvbnMuIFNwZWNpZnkgdGhlIGNvbWJpbmF0aW9uIG9mXG4gICAqIGJhZGdlcywgc291bmQgYW5kIGFsZXJ0cyB0aGF0IGFyZSBkZXNpcmVkLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0eXBlcyBzcGVjaWZpZWQgcHJlc2VudGF0aW9uIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgc2V0UHJlc2VudGF0aW9uT3B0aW9ucyhvcHRpb25zOiBQcmVzZW50YXRpb25PcHRpb25zKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBbmRyb2lkIG9ubHlcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIG5vdGlmaWNhdGlvbiBzb3VuZCBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihlbmFibGVkKX0gc3VjY2VzcyBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MuZW5hYmxlZCBGbGFnIGluZGljYXRpbmcgaWYgc291bmQgaXMgZW5hYmxlZCBvciBub3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc1NvdW5kRW5hYmxlZCgpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIG5vdGlmaWNhdGlvbiBzb3VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHNvdW5kLCBmYWxzZSB0byBkaXNhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldFNvdW5kRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIG5vdGlmaWNhdGlvbiB2aWJyYXRpb24gaXMgZW5hYmxlZCBvciBub3QuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZW5hYmxlZCl9IHN1Y2Nlc3MgU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtib29sZWFufSBzdWNjZXNzLmVuYWJsZWQgRmxhZyBpbmRpY2F0aW5nIGlmIHZpYnJhdGlvbiBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGlzVmlicmF0ZUVuYWJsZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyBub3RpZmljYXRpb24gdmlicmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgdmlicmF0aW9uLCBmYWxzZSB0byBkaXNhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldFZpYnJhdGVFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY3VzdG9tIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVGhlIGN1c3RvbSBldmVudCBvYmplY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudC5uYW1lIFRoZSBldmVudCdzIG5hbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZXZlbnQudmFsdWVdIFRoZSBldmVudCdzIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50LnRyYW5zYWN0aW9uSWRdIFRoZSBldmVudCdzIHRyYW5zYWN0aW9uIElELlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2V2ZW50LnByb3BlcnRpZXNdIFRoZSBldmVudCdzIHByb3BlcnRpZXMuIE9ubHkgbnVtYmVycywgYm9vbGVhbnMsIHN0cmluZ3MsIGFuZCBhcnJheSBvZiBzdHJpbmdzIGFyZSBzdXBwb3J0ZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgYWRkQ3VzdG9tRXZlbnQoZXZlbnQ6IG9iamVjdCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBzY3JlZW4gdHJhY2tpbmcgZm9yIGEgc3BlY2lmaWMgYXBwIHNjcmVlbiwgbXVzdCBiZSBjYWxsZWQgb25jZSBwZXIgdHJhY2tlZCBzY3JlZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY3JlZW4gVGhlIHNjcmVlbidzIHN0cmluZyBpZGVudGlmaWVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMS4wLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgdHJhY2tTY3JlZW4oc2NyZWVuOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGZlYXR1cmVzLCBhZGRpbmcgdGhlbSB0byB0aGUgc2V0IG9mIGN1cnJlbnRseSBlbmFibGVkIGZlYXR1cmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGZlYXR1cmVzIFRoZSBmZWF0dXJlcyB0byBlbmFibGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDEzLjAuMFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBlbmFibGVGZWF0dXJlKGZlYXR1cmVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGZlYXR1cmVzLCByZW1vdmluZyB0aGVtIGZyb20gdGhlIHNldCBvZiBjdXJyZW50bHkgZW5hYmxlZCBmZWF0dXJlcy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmZWF0dXJlcyBUaGUgZmVhdHVyZXMgdG8gZGlzYWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAc2luY2UgMTMuMC4wXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGRpc2FibGVGZWF0dXJlKGZlYXR1cmVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnQgZW5hYmxlZCBmZWF0dXJlcywgcmVwbGFjaW5nIGFueSBjdXJyZW50bHkgZW5hYmxlZCBmZWF0dXJlcyB3aXRoIHRoZSBnaXZlbiBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmVhdHVyZXMgVGhlIGZlYXR1cmVzIHRvIHNldCBhcyBlbmFibGVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMy4wLjBcbiAgICovXG4gIHNldEVuYWJsZWRGZWF0dXJlcyhmZWF0dXJlczogc3RyaW5nW10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGVuYWJsZWQgZmVhdHVyZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtzdWNjZXNzXSBTdWNjZXNzIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG1lc3NhZ2UpfSBbZmFpbHVyZV0gRmFpbHVyZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhaWx1cmUubWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICogQHNpbmNlIDEzLjAuMFxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMCxcbiAgICBlcnJvckluZGV4OiAxLFxuICB9KVxuICBnZXRFbmFibGVkRmVhdHVyZXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFsbCBvZiB0aGUgZ2l2ZW4gZmVhdHVyZXMgYXJlIGVuYWJsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmVhdHVyZXMgVGhlIGZlYXR1cmVzIHRvIGNoZWNrLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMy4wLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgaXNGZWF0dXJlRW5hYmxlZChmZWF0dXJlczogc3RyaW5nW10pOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBQcmVmZXJlbmNlIENlbnRlciB3aXRoIHRoZSBnaXZlbiBJRCB0cm91Z2ggYSBjYWxsYmFjayBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmZXJlbmNlQ2VudGVySWQgVGhlIHByZWZlcmVuY2UgY2VudGVyIElELlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihtZXNzYWdlKX0gW2ZhaWx1cmVdIEZhaWx1cmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWlsdXJlLm1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBzaW5jZSAxMy4zLjBcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0UHJlZmVyZW5jZUNlbnRlckNvbmZpZyhwcmVmZXJlbmNlQ2VudGVySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBQcmVmZXJlbmNlIENlbnRlciB3aXRoIHRoZSBnaXZlbiBwcmVmZXJlbmNlQ2VudGVySWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVuZmVyZW5jZUNlbnRlcklkIFRoZSBwcmVmZXJlbmNlIGNlbnRlciBJRC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3N1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obWVzc2FnZSl9IFtmYWlsdXJlXSBGYWlsdXJlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFpbHVyZS5tZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAc2luY2UgMTMuMC4wXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIG9wZW5QcmVmZXJlbmNlQ2VudGVyKHByZW5mZXJlbmNlQ2VudGVySWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG4iXX0=