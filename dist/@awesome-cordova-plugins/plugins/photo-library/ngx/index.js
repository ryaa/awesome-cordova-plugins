import { __decorate, __extends } from "tslib";
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
import { Injectable } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * @param opts
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        },
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true,
        };
    };
}
var PhotoLibrary = /** @class */ (function (_super) {
    __extends(PhotoLibrary, _super);
    function PhotoLibrary() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibrary.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibrary.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: PhotoLibrary, deps: null, target: i0.ɵɵFactoryTarget.Injectable });
    PhotoLibrary.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: PhotoLibrary });
    PhotoLibrary.pluginName = "PhotoLibrary";
    PhotoLibrary.plugin = "cordova-plugin-photo-library";
    PhotoLibrary.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibrary.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibrary.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibrary.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibrary.platforms = ["Android", "Browser", "iOS"];
    PhotoLibrary = __decorate([], PhotoLibrary);
    return PhotoLibrary;
}(AwesomeCordovaNativePlugin));
export { PhotoLibrary };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: PhotoLibrary, decorators: [{
            type: Injectable
        }], propDecorators: { getLibrary: [], requestAuthorization: [], getAlbums: [], getThumbnailURL: [], getPhotoURL: [], getThumbnail: [], getPhoto: [], saveImage: [], saveVideo: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcGhvdG8tbGlicmFyeS9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sdUNBQXFFLE1BQU0sK0JBQStCLENBQUM7QUFDbEgsT0FBTyxFQUFFLFVBQVUsRUFBWSxNQUFNLE1BQU0sQ0FBQztBQUM1QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDOztBQWdCM0M7Ozs7O0dBS0c7QUFDSCxNQUFNLFVBQVUsdUJBQXVCLENBQUMsSUFBeUM7SUFBekMscUJBQUEsRUFBQSxTQUF5QztJQUMvRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztJQUN2QixPQUFPLFVBQUMsTUFBYyxFQUFFLFVBQWtCLEVBQUUsVUFBd0M7UUFDbEYsT0FBTztZQUNMLEtBQUssRUFBTDtnQkFBTSxjQUFjO3FCQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7b0JBQWQseUJBQWM7O2dCQUNsQixJQUFNLGlCQUFpQixHQUFvQixJQUFJLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMxRixPQUFPLElBQUksVUFBVSxDQUFNLFVBQUMsUUFBdUI7b0JBQ2pELElBQU0sbUJBQW1CLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDO3dCQUN0RCxJQUFJLEVBQUUsVUFBQyxDQUFNOzRCQUNYLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ2xFLElBQUksSUFBSSxDQUFDLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRTtnQ0FDN0QsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDOzZCQUNyQjt3QkFDSCxDQUFDO3dCQUNELEtBQUssRUFBRSxVQUFDLEdBQVE7NEJBQ2QsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDdEIsQ0FBQzt3QkFDRCxRQUFRLEVBQUU7NEJBQ1IsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUN0QixDQUFDO3FCQUNGLENBQUMsQ0FBQztvQkFDSCxPQUFPO3dCQUNMLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNwQyxDQUFDLENBQUM7Z0JBQ0osQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsVUFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQztJQUNKLENBQUMsQ0FBQztBQUNKLENBQUM7O0lBaURpQyxnQ0FBMEI7Ozs7SUFZMUQsaUNBQVUsYUFDUixPQUE2QixFQUM3QixLQUEyQixFQUMzQixPQUEyQjtJQWM3QiwyQ0FBb0IsYUFBQyxPQUFxQztJQVkxRCxnQ0FBUztJQWVULHNDQUFlLGFBQUMsS0FBMkIsRUFBRSxPQUE2QjtJQWUxRSxrQ0FBVyxhQUFDLEtBQTJCLEVBQUUsT0FBYTtJQWV0RCxtQ0FBWSxhQUFDLEtBQTJCLEVBQUUsT0FBNkI7SUFldkUsK0JBQVEsYUFBQyxLQUEyQixFQUFFLE9BQWE7SUFpQm5ELGdDQUFTLGFBQUMsR0FBVyxFQUFFLEtBQXlCLEVBQUUsT0FBNkI7SUFlL0UsZ0NBQVMsYUFBQyxHQUFXLEVBQUUsS0FBeUI7OEdBcklyQyxZQUFZO2tIQUFaLFlBQVk7Ozs7Ozs7O0lBQVosWUFBWSxrQkFBWixZQUFZO3VCQXRHekI7RUFzR2tDLDBCQUEwQjtTQUEvQyxZQUFZOzRGQUFaLFlBQVk7a0JBRHhCLFVBQVU7OEJBYVQsVUFBVSxNQWlCVixvQkFBb0IsTUFZcEIsU0FBUyxNQWVULGVBQWUsTUFlZixXQUFXLE1BZVgsWUFBWSxNQWVaLFFBQVEsTUFpQlIsU0FBUyxNQWVULFNBQVMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhT3B0aW9ucywgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4sIFBsdWdpbiwgd3JhcCB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIE9ic2VydmVyIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvcmRvdmFGaW5pdGVPYnNlcnZhYmxlT3B0aW9ucyBleHRlbmRzIENvcmRvdmFPcHRpb25zIHtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgZ2V0cyBhIHJlc3VsdCByZXR1cm5lZCBmcm9tIHBsdWdpbidzIHN1Y2Nlc3MgY2FsbGJhY2ssIGFuZCBkZWNpZGVzIHdoZXRoZXIgaXQgaXMgbGFzdCB2YWx1ZSBhbmQgb2JzZXJ2YWJsZSBzaG91bGQgY29tcGxldGUuXG4gICAqL1xuICByZXN1bHRGaW5hbFByZWRpY2F0ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgYWZ0ZXIgcmVzdWx0RmluYWxQcmVkaWNhdGUsIGFuZCByZW1vdmVzIHNlcnZpY2UgZGF0YSB0aGF0IGluZGljYXRlcyBlbmQgb2Ygc3RyZWFtIGZyb20gdGhlIHJlc3VsdC5cbiAgICovXG4gIHJlc3VsdFRyYW5zZm9ybT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAcGFyYW0gb3B0c1xuICogQGhpZGRlblxuICpcbiAqIFdyYXBzIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBiZSBjb21wbGV0ZWQuIFByb3ZpZGVkIG9wdHMucmVzdWx0RmluYWxQcmVkaWNhdGUgZGljdGF0ZXMgd2hlbiB0aGUgb2JzZXJ2YWJsZSBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZShvcHRzOiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgPSB7fSkge1xuICBvcHRzLm9ic2VydmFibGUgPSB0cnVlO1xuICByZXR1cm4gKHRhcmdldDogT2JqZWN0LCBtZXRob2ROYW1lOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPGFueT4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWUoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE9ic2VydmFibGU6IE9ic2VydmFibGU8YW55PiA9IHdyYXAodGhpcywgbWV0aG9kTmFtZSwgb3B0cykuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxhbnk+KChvYnNlcnZlcjogT2JzZXJ2ZXI8YW55PikgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRTdWJzY3JpcHRpb24gPSB3cmFwcGVkT2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKHg6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KG9wdHMucmVzdWx0VHJhbnNmb3JtID8geFtvcHRzLnJlc3VsdFRyYW5zZm9ybV0gOiB4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdHMucmVzdWx0RmluYWxQcmVkaWNhdGUgJiYgeFtvcHRzLnJlc3VsdEZpbmFsUHJlZGljYXRlXSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogQG5hbWUgUGhvdG8gTGlicmFyeVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgUGhvdG9MaWJyYXJ5IHBsdWdpbiBhbGxvd3MgYWNjZXNzIHRvIHBob3RvcyBmcm9tIGRldmljZSBieSB1cmwuIFNvIHlvdSBjYW4gdXNlIHBsYWluIGltZyB0YWcgdG8gZGlzcGxheSBwaG90b3MgYW5kIHRoZWlyIHRodW1ibmFpbHMsIGFuZCBkaWZmZXJlbnQgM3JkIHBhcnR5IGxpYnJhcmllcyBhcyB3ZWxsLlxuICogU2F2aW5nIHBob3RvcyBhbmQgdmlkZW9zIHRvIHRoZSBsaWJyYXJ5IGlzIGFsc28gc3VwcG9ydGVkLlxuICogY2R2cGhvdG9saWJyYXJ5IHVybHMgc2hvdWxkIGJlIHRydXN0ZWQgYnkgQW5ndWxhci4gU2VlIHBsdWdpbiBob21lcGFnZSB0byBsZWFybiBob3cuXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFBob3RvTGlicmFyeSB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9waG90by1saWJyYXJ5L25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBwaG90b0xpYnJhcnk6IFBob3RvTGlicmFyeSkgeyB9XG4gKlxuICogdGhpcy5waG90b0xpYnJhcnkucmVxdWVzdEF1dGhvcml6YXRpb24oKS50aGVuKCgpID0+IHtcbiAqICAgdGhpcy5waG90b0xpYnJhcnkuZ2V0TGlicmFyeSgpLnN1YnNjcmliZSh7XG4gKiAgICAgbmV4dDogbGlicmFyeSA9PiB7XG4gKiAgICAgICBsaWJyYXJ5LmZvckVhY2goZnVuY3Rpb24obGlicmFyeUl0ZW0pIHtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uaWQpOyAgICAgICAgICAvLyBJRCBvZiB0aGUgcGhvdG9cbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ucGhvdG9VUkwpOyAgICAvLyBDcm9zcy1wbGF0Zm9ybSBhY2Nlc3MgdG8gcGhvdG9cbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0udGh1bWJuYWlsVVJMKTsvLyBDcm9zcy1wbGF0Zm9ybSBhY2Nlc3MgdG8gdGh1bWJuYWlsXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmZpbGVOYW1lKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ud2lkdGgpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5oZWlnaHQpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5jcmVhdGlvbkRhdGUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5sYXRpdHVkZSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmxvbmdpdHVkZSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmFsYnVtSWRzKTsgICAgLy8gYXJyYXkgb2YgaWRzIG9mIGFwcHJvcHJpYXRlIEFsYnVtSXRlbSwgb25seSBvZiBpbmNsdWRlQWxidW1zRGF0YSB3YXMgdXNlZFxuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqICAgICBlcnJvcjogZXJyID0+IHsgY29uc29sZS5sb2coJ2NvdWxkIG5vdCBnZXQgcGhvdG9zJyk7IH0sXG4gKiAgICAgY29tcGxldGU6ICgpID0+IHsgY29uc29sZS5sb2coJ2RvbmUgZ2V0dGluZyBwaG90b3MnKTsgfVxuICogICB9KTtcbiAqIH0pXG4gKiAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCdwZXJtaXNzaW9ucyB3ZXJlblxcJ3QgZ3JhbnRlZCcpKTtcbiAqXG4gKiBgYGBcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdQaG90b0xpYnJhcnknLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5JyxcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5wbHVnaW5zLnBob3RvTGlicmFyeScsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vdGVyaWtvbi9jb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5JyxcbiAgaW5zdGFsbDpcbiAgICAnaW9uaWMgY29yZG92YSBwbHVnaW4gYWRkIGNvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnkgLS12YXJpYWJsZSBQSE9UT19MSUJSQVJZX1VTQUdFX0RFU0NSSVBUSU9OPVwiVG8gY2hvb3NlIHBob3Rvc1wiJyxcbiAgaW5zdGFsbFZhcmlhYmxlczogWydQSE9UT19MSUJSQVJZX1VTQUdFX0RFU0NSSVBUSU9OJ10sXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ0Jyb3dzZXInLCAnaU9TJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFBob3RvTGlicmFyeSBleHRlbmRzIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBsaWJyYXJ5IGl0ZW1zLiBMaWJyYXJ5IGl0ZW0gY29udGFpbnMgcGhvdG8gbWV0YWRhdGEgbGlrZSB3aWR0aCBhbmQgaGVpZ2h0LCBhcyB3ZWxsIGFzIHBob3RvVVJMIGFuZCB0aHVtYm5haWxVUkwuXG4gICAqXG4gICAqIEBwYXJhbSBzdWNjZXNzXG4gICAqIEBwYXJhbSBlcnJvclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0TGlicmFyeU9wdGlvbnN9IE9wdGlvbmFsLCBsaWtlIHRodW1ibmFpbCBzaXplIGFuZCBjaHVua3Mgc2V0dGluZ3MuXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPExpYnJhcnlJdGVtW10+fSBSZXR1cm5zIGxpYnJhcnkgaXRlbXMuIElmIGFwcHJvcHJpYXRlIG9wdGlvbiB3YXMgc2V0LCB3aWxsIGJlIHJldHVybmVkIGJ5IGNodW5rcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxuICB9KVxuICBnZXRMaWJyYXJ5KFxuICAgIHN1Y2Nlc3M/OiAocmVzPzogYW55KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycj86IGFueSkgPT4gdm9pZCxcbiAgICBvcHRpb25zPzogR2V0TGlicmFyeU9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxMaWJyYXJ5SXRlbVtdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFza3MgdXNlciBwZXJtaXNzaW9uIHRvIGFjY2VzcyBwaG90byBsaWJyYXJ5LlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7UmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zfSBPcHRpb25hbCwgbGlrZSB3aGV0aGVyIG9ubHkgcmVhZCBhY2Nlc3MgbmVlZGVkIG9yIHJlYWQvd3JpdGUuXG4gICAqIEByZXR1cm5zIHsgUHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHBlcm1pc3Npb25zIGFyZSBncmFudGVkLCBhbmQgZmFpbHMgd2hlbiBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnLFxuICB9KVxuICByZXF1ZXN0QXV0aG9yaXphdGlvbihvcHRpb25zPzogUmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBwaG90byBhbGJ1bXMgb24gZGV2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBbGJ1bUl0ZW1bXT59IFJlc29sdmVzIHRvIGxpc3Qgb2YgYWxidW1zLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyxcbiAgfSlcbiAgZ2V0QWxidW1zKCk6IFByb21pc2U8QWxidW1JdGVtW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgbWVhbnMgdG8gcmVxdWVzdCBVUkwgb2YgdGh1bWJuYWlsLCB3aXRoIHNwZWNpZmllZCBzaXplIG9yIHF1YWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9mIHBob3RvLCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmVzb2x2ZXMgdG8gVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGdldFRodW1ibmFpbFVSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgbWVhbnMgdG8gcmVxdWVzdCBwaG90byBVUkwgYnkgaWQuXG4gICAqXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9yIExpYnJhcnlJdGVtLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0UGhvdG9PcHRpb25zfSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXNvbHZlcyB0byBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0UGhvdG9VUkwocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aHVtYm5haWwgYXMgQmxvYi5cbiAgICpcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRUaHVtYm5haWxPcHRpb25zfSBPcHRpb25zLCBsaWtlIHRodW1ibmFpbCBzaXplIG9yIHF1YWxpdHkuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEJsb2I+fSBSZXNvbHZlcyByZXF1ZXN0ZWQgdGh1bWJuYWlsIGFzIGJsb2IuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGdldFRodW1ibmFpbChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxCbG9iPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgcGhvdG8gYXMgQmxvYi5cbiAgICpcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRQaG90b09wdGlvbnN9IE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEJsb2I+fSBSZXNvbHZlcyByZXF1ZXN0ZWQgcGhvdG8gYXMgYmxvYi5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0UGhvdG8ocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxCbG9iPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIGltYWdlIHRvIHNwZWNpZmllZCBhbGJ1bS4gQWxidW0gd2lsbCBiZSBjcmVhdGVkIGlmIG5vdCBleGlzdHMuXG4gICAqIExpYnJhcnlJdGVtIHRoYXQgcmVwcmVzZW50cyBzYXZlZCBpbWFnZSBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIHVybCB7c3RyaW5nfSBVUkwgb2YgYSBmaWxlLCBvciBEYXRhVVJMLlxuICAgKiBAcGFyYW0gYWxidW0ge0FsYnVtSXRlbSB8IHN0cmluZ30gTmFtZSBvZiBhbiBhbGJ1bSBvciBBbGJ1bUl0ZW0gb2JqZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBmb3IgcmVzdWx0aW5nIExpYnJhcnlJdGVtLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxMaWJyYXJ5SXRlbT59IFJlc29sdmVzIHRvIExpYnJhcnlJdGVtIHRoYXQgcmVwcmVzZW50cyBzYXZlZCBpbWFnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDIsXG4gICAgZXJyb3JJbmRleDogMyxcbiAgfSlcbiAgc2F2ZUltYWdlKHVybDogc3RyaW5nLCBhbGJ1bTogQWxidW1JdGVtIHwgc3RyaW5nLCBvcHRpb25zPzogR2V0VGh1bWJuYWlsT3B0aW9ucyk6IFByb21pc2U8TGlicmFyeUl0ZW0+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgdmlkZW8gdG8gc3BlY2lmaWVkIGFsYnVtLiBBbGJ1bSB3aWxsIGJlIGNyZWF0ZWQgaWYgbm90IGV4aXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHVybCB7c3RyaW5nfSBVUkwgb2YgYSBmaWxlLCBvciBEYXRhVVJMLlxuICAgKiBAcGFyYW0gYWxidW0ge0FsYnVtSXRlbSB8IHN0cmluZ30gTmFtZSBvZiBhbiBhbGJ1bSBvciBBbGJ1bUl0ZW0gb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmVzb2x2ZXMgd2hlbiBzYXZlIG9wZXJhdGlvbiBjb21wbGV0ZXMuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAyLFxuICAgIGVycm9ySW5kZXg6IDMsXG4gIH0pXG4gIHNhdmVWaWRlbyh1cmw6IHN0cmluZywgYWxidW06IEFsYnVtSXRlbSB8IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaWJyYXJ5SXRlbSB7XG4gIC8qKlxuICAgKiBMb2NhbCBpZCBvZiB0aGUgcGhvdG9cbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIHBob3RvVVJMOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIHRodW1ibmFpbFVSTDogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgY3JlYXRpb25EYXRlOiBEYXRlO1xuICBsYXRpdHVkZT86IG51bWJlcjtcbiAgbG9uZ2l0dWRlPzogbnVtYmVyO1xuICBhbGJ1bUlkcz86IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBbGJ1bUl0ZW0ge1xuICAvKipcbiAgICogTG9jYWwgaWQgb2YgdGhlIGFsYnVtXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRMaWJyYXJ5T3B0aW9ucyB7XG4gIHRodW1ibmFpbFdpZHRoPzogbnVtYmVyO1xuICB0aHVtYm5haWxIZWlnaHQ/OiBudW1iZXI7XG4gIHF1YWxpdHk/OiBudW1iZXI7XG4gIGl0ZW1zSW5DaHVuaz86IG51bWJlcjtcbiAgY2h1bmtUaW1lU2VjPzogbnVtYmVyO1xuICB1c2VPcmlnaW5hbEZpbGVOYW1lcz86IGJvb2xlYW47XG4gIGluY2x1ZGVBbGJ1bURhdGE/OiBib29sZWFuO1xuICBpbmNsdWRlVmlkZW9zPzogYm9vbGVhbjtcbiAgbWF4SXRlbXM/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RBdXRob3JpemF0aW9uT3B0aW9ucyB7XG4gIHJlYWQ/OiBib29sZWFuO1xuICB3cml0ZT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldFRodW1ibmFpbE9wdGlvbnMge1xuICB0aHVtYm5haWxXaWR0aD86IG51bWJlcjtcbiAgdGh1bWJuYWlsSGVpZ2h0PzogbnVtYmVyO1xuICBxdWFsaXR5PzogbnVtYmVyO1xufVxuIl19