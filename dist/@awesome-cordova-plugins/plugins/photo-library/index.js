var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
/**
 * @param opts
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        },
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true,
        };
    };
}
var PhotoLibraryOriginal = /** @class */ (function (_super) {
    __extends(PhotoLibraryOriginal, _super);
    function PhotoLibraryOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibraryOriginal.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibraryOriginal.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.pluginName = "PhotoLibrary";
    PhotoLibraryOriginal.plugin = "cordova-plugin-photo-library";
    PhotoLibraryOriginal.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibraryOriginal.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibraryOriginal.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibraryOriginal.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibraryOriginal.platforms = ["Android", "Browser", "iOS"];
    return PhotoLibraryOriginal;
}(AwesomeCordovaNativePlugin));
var PhotoLibrary = new PhotoLibraryOriginal();
export { PhotoLibrary };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvcGhvdG8tbGlicmFyeS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLHVDQUFxRSxNQUFNLCtCQUErQixDQUFDO0FBQ2xILE9BQU8sRUFBRSxVQUFVLEVBQVksTUFBTSxNQUFNLENBQUM7QUFpQjVDOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFVLHVCQUF1QixDQUFDLElBQXlDO0lBQXpDLHFCQUFBLEVBQUEsU0FBeUM7SUFDL0UsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDdkIsT0FBTyxVQUFDLE1BQWMsRUFBRSxVQUFrQixFQUFFLFVBQXdDO1FBQ2xGLE9BQU87WUFDTCxLQUFLLEVBQUw7Z0JBQU0sY0FBYztxQkFBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO29CQUFkLHlCQUFjOztnQkFDbEIsSUFBTSxpQkFBaUIsR0FBb0IsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDMUYsT0FBTyxJQUFJLFVBQVUsQ0FBTSxVQUFDLFFBQXVCO29CQUNqRCxJQUFNLG1CQUFtQixHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQzt3QkFDdEQsSUFBSSxFQUFFLFVBQUMsQ0FBTTs0QkFDWCxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNsRSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7Z0NBQzdELFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQzs2QkFDckI7d0JBQ0gsQ0FBQzt3QkFDRCxLQUFLLEVBQUUsVUFBQyxHQUFROzRCQUNkLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3RCLENBQUM7d0JBQ0QsUUFBUSxFQUFFOzRCQUNSLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQzt3QkFDdEIsQ0FBQztxQkFDRixDQUFDLENBQUM7b0JBQ0gsT0FBTzt3QkFDTCxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDcEMsQ0FBQyxDQUFDO2dCQUNKLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUNELFVBQVUsRUFBRSxJQUFJO1NBQ2pCLENBQUM7SUFDSixDQUFDLENBQUM7QUFDSixDQUFDOztJQWlEaUMsZ0NBQTBCOzs7O0lBWTFELGlDQUFVLGFBQ1IsT0FBNkIsRUFDN0IsS0FBMkIsRUFDM0IsT0FBMkI7SUFjN0IsMkNBQW9CLGFBQUMsT0FBcUM7SUFZMUQsZ0NBQVM7SUFlVCxzQ0FBZSxhQUFDLEtBQTJCLEVBQUUsT0FBNkI7SUFlMUUsa0NBQVcsYUFBQyxLQUEyQixFQUFFLE9BQWE7SUFldEQsbUNBQVksYUFBQyxLQUEyQixFQUFFLE9BQTZCO0lBZXZFLCtCQUFRLGFBQUMsS0FBMkIsRUFBRSxPQUFhO0lBaUJuRCxnQ0FBUyxhQUFDLEdBQVcsRUFBRSxLQUF5QixFQUFFLE9BQTZCO0lBZS9FLGdDQUFTLGFBQUMsR0FBVyxFQUFFLEtBQXlCOzs7Ozs7Ozt1QkEzT2xEO0VBc0drQywwQkFBMEI7U0FBL0MsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvcmRvdmEsIENvcmRvdmFPcHRpb25zLCBBd2Vzb21lQ29yZG92YU5hdGl2ZVBsdWdpbiwgUGx1Z2luLCB3cmFwIH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZG92YUZpbml0ZU9ic2VydmFibGVPcHRpb25zIGV4dGVuZHMgQ29yZG92YU9wdGlvbnMge1xuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBnZXRzIGEgcmVzdWx0IHJldHVybmVkIGZyb20gcGx1Z2luJ3Mgc3VjY2VzcyBjYWxsYmFjaywgYW5kIGRlY2lkZXMgd2hldGhlciBpdCBpcyBsYXN0IHZhbHVlIGFuZCBvYnNlcnZhYmxlIHNob3VsZCBjb21wbGV0ZS5cbiAgICovXG4gIHJlc3VsdEZpbmFsUHJlZGljYXRlPzogc3RyaW5nO1xuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBhZnRlciByZXN1bHRGaW5hbFByZWRpY2F0ZSwgYW5kIHJlbW92ZXMgc2VydmljZSBkYXRhIHRoYXQgaW5kaWNhdGVzIGVuZCBvZiBzdHJlYW0gZnJvbSB0aGUgcmVzdWx0LlxuICAgKi9cbiAgcmVzdWx0VHJhbnNmb3JtPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSBvcHRzXG4gKiBAaGlkZGVuXG4gKlxuICogV3JhcHMgbWV0aG9kIHRoYXQgcmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGJlIGNvbXBsZXRlZC4gUHJvdmlkZWQgb3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZSBkaWN0YXRlcyB3aGVuIHRoZSBvYnNlcnZhYmxlIGNvbXBsZXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvcmRvdmFGaW5pdGVPYnNlcnZhYmxlKG9wdHM6IENvcmRvdmFGaW5pdGVPYnNlcnZhYmxlT3B0aW9ucyA9IHt9KSB7XG4gIG9wdHMub2JzZXJ2YWJsZSA9IHRydWU7XG4gIHJldHVybiAodGFyZ2V0OiBPYmplY3QsIG1ldGhvZE5hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8YW55PikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxhbnk+ID0gd3JhcCh0aGlzLCBtZXRob2ROYW1lLCBvcHRzKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGFueT4oKG9ic2VydmVyOiBPYnNlcnZlcjxhbnk+KSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFN1YnNjcmlwdGlvbiA9IHdyYXBwZWRPYnNlcnZhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiAoeDogYW55KSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQob3B0cy5yZXN1bHRUcmFuc2Zvcm0gPyB4W29wdHMucmVzdWx0VHJhbnNmb3JtXSA6IHgpO1xuICAgICAgICAgICAgICBpZiAob3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZSAmJiB4W29wdHMucmVzdWx0RmluYWxQcmVkaWNhdGVdKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiAoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd3JhcHBlZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmFtZSBQaG90byBMaWJyYXJ5XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBQaG90b0xpYnJhcnkgcGx1Z2luIGFsbG93cyBhY2Nlc3MgdG8gcGhvdG9zIGZyb20gZGV2aWNlIGJ5IHVybC4gU28geW91IGNhbiB1c2UgcGxhaW4gaW1nIHRhZyB0byBkaXNwbGF5IHBob3RvcyBhbmQgdGhlaXIgdGh1bWJuYWlscywgYW5kIGRpZmZlcmVudCAzcmQgcGFydHkgbGlicmFyaWVzIGFzIHdlbGwuXG4gKiBTYXZpbmcgcGhvdG9zIGFuZCB2aWRlb3MgdG8gdGhlIGxpYnJhcnkgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gKiBjZHZwaG90b2xpYnJhcnkgdXJscyBzaG91bGQgYmUgdHJ1c3RlZCBieSBBbmd1bGFyLiBTZWUgcGx1Z2luIGhvbWVwYWdlIHRvIGxlYXJuIGhvdy5cbiAqIEB1c2FnZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgUGhvdG9MaWJyYXJ5IH0gZnJvbSAnQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3Bob3RvLWxpYnJhcnkvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIHBob3RvTGlicmFyeTogUGhvdG9MaWJyYXJ5KSB7IH1cbiAqXG4gKiB0aGlzLnBob3RvTGlicmFyeS5yZXF1ZXN0QXV0aG9yaXphdGlvbigpLnRoZW4oKCkgPT4ge1xuICogICB0aGlzLnBob3RvTGlicmFyeS5nZXRMaWJyYXJ5KCkuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiBsaWJyYXJ5ID0+IHtcbiAqICAgICAgIGxpYnJhcnkuZm9yRWFjaChmdW5jdGlvbihsaWJyYXJ5SXRlbSkge1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5pZCk7ICAgICAgICAgIC8vIElEIG9mIHRoZSBwaG90b1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5waG90b1VSTCk7ICAgIC8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byBwaG90b1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS50aHVtYm5haWxVUkwpOy8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byB0aHVtYm5haWxcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uZmlsZU5hbWUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS53aWR0aCk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmhlaWdodCk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmNyZWF0aW9uRGF0ZSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmxhdGl0dWRlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ubG9uZ2l0dWRlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uYWxidW1JZHMpOyAgICAvLyBhcnJheSBvZiBpZHMgb2YgYXBwcm9wcmlhdGUgQWxidW1JdGVtLCBvbmx5IG9mIGluY2x1ZGVBbGJ1bXNEYXRhIHdhcyB1c2VkXG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICogICAgIGVycm9yOiBlcnIgPT4geyBjb25zb2xlLmxvZygnY291bGQgbm90IGdldCBwaG90b3MnKTsgfSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4geyBjb25zb2xlLmxvZygnZG9uZSBnZXR0aW5nIHBob3RvcycpOyB9XG4gKiAgIH0pO1xuICogfSlcbiAqIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ3Blcm1pc3Npb25zIHdlcmVuXFwndCBncmFudGVkJykpO1xuICpcbiAqIGBgYFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ1Bob3RvTGlicmFyeScsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnknLFxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMucGhvdG9MaWJyYXJ5JyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS90ZXJpa29uL2NvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnknLFxuICBpbnN0YWxsOlxuICAgICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeSAtLXZhcmlhYmxlIFBIT1RPX0xJQlJBUllfVVNBR0VfREVTQ1JJUFRJT049XCJUbyBjaG9vc2UgcGhvdG9zXCInLFxuICBpbnN0YWxsVmFyaWFibGVzOiBbJ1BIT1RPX0xJQlJBUllfVVNBR0VfREVTQ1JJUFRJT04nXSxcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnQnJvd3NlcicsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUGhvdG9MaWJyYXJ5IGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogUmV0cmlldmVzIGxpYnJhcnkgaXRlbXMuIExpYnJhcnkgaXRlbSBjb250YWlucyBwaG90byBtZXRhZGF0YSBsaWtlIHdpZHRoIGFuZCBoZWlnaHQsIGFzIHdlbGwgYXMgcGhvdG9VUkwgYW5kIHRodW1ibmFpbFVSTC5cbiAgICpcbiAgICogQHBhcmFtIHN1Y2Nlc3NcbiAgICogQHBhcmFtIGVycm9yXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRMaWJyYXJ5T3B0aW9uc30gT3B0aW9uYWwsIGxpa2UgdGh1bWJuYWlsIHNpemUgYW5kIGNodW5rcyBzZXR0aW5ncy5cbiAgICogQHJldHVybnMge09ic2VydmFibGU8TGlicmFyeUl0ZW1bXT59IFJldHVybnMgbGlicmFyeSBpdGVtcy4gSWYgYXBwcm9wcmlhdGUgb3B0aW9uIHdhcyBzZXQsIHdpbGwgYmUgcmV0dXJuZWQgYnkgY2h1bmtzLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gIH0pXG4gIGdldExpYnJhcnkoXG4gICAgc3VjY2Vzcz86IChyZXM/OiBhbnkpID0+IHZvaWQsXG4gICAgZXJyb3I/OiAoZXJyPzogYW55KSA9PiB2b2lkLFxuICAgIG9wdGlvbnM/OiBHZXRMaWJyYXJ5T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPExpYnJhcnlJdGVtW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQXNrcyB1c2VyIHBlcm1pc3Npb24gdG8gYWNjZXNzIHBob3RvIGxpYnJhcnkuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHtSZXF1ZXN0QXV0aG9yaXphdGlvbk9wdGlvbnN9IE9wdGlvbmFsLCBsaWtlIHdoZXRoZXIgb25seSByZWFkIGFjY2VzcyBuZWVkZWQgb3IgcmVhZC93cml0ZS5cbiAgICogQHJldHVybnMgeyBQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcGVybWlzc2lvbnMgYXJlIGdyYW50ZWQsIGFuZCBmYWlscyB3aGVuIG5vdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsXG4gIH0pXG4gIHJlcXVlc3RBdXRob3JpemF0aW9uKG9wdGlvbnM/OiBSZXF1ZXN0QXV0aG9yaXphdGlvbk9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIHBob3RvIGFsYnVtcyBvbiBkZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFsYnVtSXRlbVtdPn0gUmVzb2x2ZXMgdG8gbGlzdCBvZiBhbGJ1bXMuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnLFxuICB9KVxuICBnZXRBbGJ1bXMoKTogUHJvbWlzZTxBbGJ1bUl0ZW1bXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZWFucyB0byByZXF1ZXN0IFVSTCBvZiB0aHVtYm5haWwsIHdpdGggc3BlY2lmaWVkIHNpemUgb3IgcXVhbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb2YgcGhvdG8sIG9yIExpYnJhcnlJdGVtLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBvciBxdWFsaXR5LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXNvbHZlcyB0byBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0VGh1bWJuYWlsVVJMKHBob3RvOiBzdHJpbmcgfCBMaWJyYXJ5SXRlbSwgb3B0aW9ucz86IEdldFRodW1ibmFpbE9wdGlvbnMpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBtZWFucyB0byByZXF1ZXN0IHBob3RvIFVSTCBieSBpZC5cbiAgICpcbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRQaG90b09wdGlvbnN9IE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJlc29sdmVzIHRvIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBnZXRQaG90b1VSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRodW1ibmFpbCBhcyBCbG9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cbiAgICogQHJldHVybnMge1Byb21pc2U8QmxvYj59IFJlc29sdmVzIHJlcXVlc3RlZCB0aHVtYm5haWwgYXMgYmxvYi5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0VGh1bWJuYWlsKHBob3RvOiBzdHJpbmcgfCBMaWJyYXJ5SXRlbSwgb3B0aW9ucz86IEdldFRodW1ibmFpbE9wdGlvbnMpOiBQcm9taXNlPEJsb2I+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwaG90byBhcyBCbG9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFBob3RvT3B0aW9uc30gT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybnMge1Byb21pc2U8QmxvYj59IFJlc29sdmVzIHJlcXVlc3RlZCBwaG90byBhcyBibG9iLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBnZXRQaG90byhwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPEJsb2I+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgaW1hZ2UgdG8gc3BlY2lmaWVkIGFsYnVtLiBBbGJ1bSB3aWxsIGJlIGNyZWF0ZWQgaWYgbm90IGV4aXN0cy5cbiAgICogTGlicmFyeUl0ZW0gdGhhdCByZXByZXNlbnRzIHNhdmVkIGltYWdlIGlzIHJldHVybmVkLlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHtzdHJpbmd9IFVSTCBvZiBhIGZpbGUsIG9yIERhdGFVUkwuXG4gICAqIEBwYXJhbSBhbGJ1bSB7QWxidW1JdGVtIHwgc3RyaW5nfSBOYW1lIG9mIGFuIGFsYnVtIG9yIEFsYnVtSXRlbSBvYmplY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRUaHVtYm5haWxPcHRpb25zfSBPcHRpb25zLCBsaWtlIHRodW1ibmFpbCBzaXplIGZvciByZXN1bHRpbmcgTGlicmFyeUl0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPExpYnJhcnlJdGVtPn0gUmVzb2x2ZXMgdG8gTGlicmFyeUl0ZW0gdGhhdCByZXByZXNlbnRzIHNhdmVkIGltYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMixcbiAgICBlcnJvckluZGV4OiAzLFxuICB9KVxuICBzYXZlSW1hZ2UodXJsOiBzdHJpbmcsIGFsYnVtOiBBbGJ1bUl0ZW0gfCBzdHJpbmcsIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxMaWJyYXJ5SXRlbT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlcyB2aWRlbyB0byBzcGVjaWZpZWQgYWxidW0uIEFsYnVtIHdpbGwgYmUgY3JlYXRlZCBpZiBub3QgZXhpc3RzLlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIHtzdHJpbmd9IFVSTCBvZiBhIGZpbGUsIG9yIERhdGFVUkwuXG4gICAqIEBwYXJhbSBhbGJ1bSB7QWxidW1JdGVtIHwgc3RyaW5nfSBOYW1lIG9mIGFuIGFsYnVtIG9yIEFsYnVtSXRlbSBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXNvbHZlcyB3aGVuIHNhdmUgb3BlcmF0aW9uIGNvbXBsZXRlcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDIsXG4gICAgZXJyb3JJbmRleDogMyxcbiAgfSlcbiAgc2F2ZVZpZGVvKHVybDogc3RyaW5nLCBhbGJ1bTogQWxidW1JdGVtIHwgc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpYnJhcnlJdGVtIHtcbiAgLyoqXG4gICAqIExvY2FsIGlkIG9mIHRoZSBwaG90b1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgcGhvdG9VUkw6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgdGh1bWJuYWlsVVJMOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBjcmVhdGlvbkRhdGU6IERhdGU7XG4gIGxhdGl0dWRlPzogbnVtYmVyO1xuICBsb25naXR1ZGU/OiBudW1iZXI7XG4gIGFsYnVtSWRzPzogc3RyaW5nW107XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFsYnVtSXRlbSB7XG4gIC8qKlxuICAgKiBMb2NhbCBpZCBvZiB0aGUgYWxidW1cbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldExpYnJhcnlPcHRpb25zIHtcbiAgdGh1bWJuYWlsV2lkdGg/OiBudW1iZXI7XG4gIHRodW1ibmFpbEhlaWdodD86IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgaXRlbXNJbkNodW5rPzogbnVtYmVyO1xuICBjaHVua1RpbWVTZWM/OiBudW1iZXI7XG4gIHVzZU9yaWdpbmFsRmlsZU5hbWVzPzogYm9vbGVhbjtcbiAgaW5jbHVkZUFsYnVtRGF0YT86IGJvb2xlYW47XG4gIGluY2x1ZGVWaWRlb3M/OiBib29sZWFuO1xuICBtYXhJdGVtcz86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zIHtcbiAgcmVhZD86IGJvb2xlYW47XG4gIHdyaXRlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VGh1bWJuYWlsT3B0aW9ucyB7XG4gIHRodW1ibmFpbFdpZHRoPzogbnVtYmVyO1xuICB0aHVtYm5haWxIZWlnaHQ/OiBudW1iZXI7XG4gIHF1YWxpdHk/OiBudW1iZXI7XG59XG4iXX0=