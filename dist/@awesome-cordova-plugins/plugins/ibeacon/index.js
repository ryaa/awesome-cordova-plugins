var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { AwesomeCordovaNativePlugin, cordova, checkAvailability } from '@awesome-cordova-plugins/core';
import { Observable } from 'rxjs';
var IBeaconOriginal = /** @class */ (function (_super) {
    __extends(IBeaconOriginal, _super);
    function IBeaconOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeaconOriginal.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new window.cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didChangeAuthorizationStatus = cb);
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didDetermineStateForRegion = cb);
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didEnterRegion = cb);
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didExitRegion = cb);
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didRangeBeaconsInRegion = cb);
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didStartMonitoringForRegion = cb);
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.monitoringDidFailForRegionWithError = cb);
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidStartAdvertising = cb);
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidUpdateState = cb);
                    });
                };
                window.cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeaconOriginal.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new window.cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeaconOriginal.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeaconOriginal.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeaconOriginal.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeaconOriginal.pluginName = "IBeacon";
    IBeaconOriginal.plugin = "cordova-plugin-ibeacon";
    IBeaconOriginal.pluginRef = "cordova.plugins.locationManager";
    IBeaconOriginal.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeaconOriginal.platforms = ["Android", "iOS"];
    return IBeaconOriginal;
}(AwesomeCordovaNativePlugin));
var IBeacon = new IBeaconOriginal();
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGF3ZXNvbWUtY29yZG92YS1wbHVnaW5zL3BsdWdpbnMvaWJlYWNvbi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFDQSxPQUFPLDBEQUE2RCxNQUFNLCtCQUErQixDQUFDO0FBQzFHLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0lBMFJMLDJCQUEwQjs7OztJQVFyRCwwQkFBUTs7O21EQUFvQjtnQkFDMUIsSUFBTSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBRXZFLFFBQVEsQ0FBQyw0QkFBNEIsR0FBRyxVQUFDLFlBQWtDO29CQUN6RSxPQUFPLElBQUksVUFBVSxDQUFzQixVQUFDLFFBQWE7d0JBQ3ZELElBQU0sRUFBRSxHQUFHLFVBQUMsSUFBeUIsSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQW5CLENBQW1CLENBQUM7d0JBQzlELE9BQU8sQ0FBQyxRQUFRLENBQUMsNEJBQTRCLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBQ3RELENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FBQztnQkFFRixRQUFRLENBQUMsMEJBQTBCLEdBQUcsVUFBQyxZQUFrQztvQkFDdkUsT0FBTyxJQUFJLFVBQVUsQ0FBc0IsVUFBQyxRQUFhO3dCQUN2RCxJQUFNLEVBQUUsR0FBRyxVQUFDLElBQXlCLElBQUssT0FBQSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFuQixDQUFtQixDQUFDO3dCQUM5RCxPQUFPLENBQUMsUUFBUSxDQUFDLDBCQUEwQixHQUFHLEVBQUUsQ0FBQyxDQUFDO29CQUNwRCxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDLENBQUM7Z0JBRUYsUUFBUSxDQUFDLGNBQWMs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T0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUM3RCxPQUFPLFFBQVEsQ0FBQzthQUNqQjs7O0lBZUQsOEJBQVksYUFDVixTQUFpQixFQUNqQixJQUFZLEVBQ1osS0FBYyxFQUNkLEtBQWMsRUFDZCx5QkFBbUM7OzttREFDckI7Z0JBQ2QsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQzVELFNBQVMsRUFDVCxJQUFJLEVBQ0osS0FBSyxFQUNMLEtBQUssRUFDTCx5QkFBeUIsQ0FDMUIsQ0FBQzthQUNIOzs7SUFNRCw2QkFBVztJQVNYLDZCQUFXLGFBQUMsUUFBeUI7SUF5QnJDLG9DQUFrQjtJQVdsQixvQ0FBa0I7SUFXbEIsaUNBQWU7SUFXZixrQ0FBZ0I7SUFxQmhCLDBDQUF3QixhQUFDLE1BQWM7SUFrQnZDLHlDQUF1QixhQUFDLE1BQWM7SUFpQnRDLHVDQUFxQixhQUFDLE1BQWM7SUFrQnBDLDZDQUEyQixhQUFDLE1BQWM7SUFrQjFDLDRDQUEwQixhQUFDLE1BQWM7SUFXekMsd0NBQXNCO0lBZXRCLCtDQUE2QjtJQVc3Qiw0Q0FBMEI7SUFVMUIscUNBQW1CO0lBVW5CLGtDQUFnQjtJQVdoQixvQ0FBa0I7SUFhbEIsK0NBQTZCLGFBQUMsTUFBYztJQXNCNUMsa0NBQWdCLGFBQUMsTUFBYyxFQUFFLGFBQXNCO0lBY3ZELGlDQUFlLGFBQUMsTUFBYztJQVc5Qix3Q0FBc0I7SUFXdEIsK0JBQWE7SUFZYixrQ0FBZ0I7SUFhaEIsMENBQXdCO0lBWXhCLDJDQUF5QjtJQVl6QixpQ0FBZTtJQWNmLG1DQUFpQixhQUFDLE9BQWU7Ozs7OztrQkFwdkJuQztFQTRSNkIsMEJBQTBCO1NBQTFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhQ2hlY2ssIEF3ZXNvbWVDb3Jkb3ZhTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAYXdlc29tZS1jb3Jkb3ZhLXBsdWdpbnMvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmRlY2xhcmUgY29uc3QgY29yZG92YTogYW55O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJlYWNvbiB7XG4gIC8qKlxuICAgKiBUaGUgcGh5c2ljYWwgZGV2aWNlJ3MgaWRlbnRpZmllci5cbiAgICovXG4gIHV1aWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1ham9yIGlkZW50aWZpZXIgbnVtYmVyLlxuICAgKi9cbiAgbWFqb3I6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1pbm9yIGlkZW50aWZpZXIgbnVtYmVyLlxuICAgKi9cbiAgbWlub3I6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHByb3hpbWl0eSBvZiB0aGUgYmVhY29uIHJlbGF0aXZlIHRvIHRoZSBwaG9uZS5cbiAgICpcbiAgICogUG9zc2libGUgb3B0aW9ucyBhcmU6XG4gICAqIFByb3hpbWl0eUltbWVkaWF0ZVxuICAgKiBQcm94aW1pdHlOZWFyXG4gICAqIFByb3hpbWl0eUZhclxuICAgKiBQcm94aW1pdHlVbmtub3duXG4gICAqL1xuICBwcm94aW1pdHk6ICdQcm94aW1pdHlJbW1lZGlhdGUnIHwgJ1Byb3hpbWl0eU5lYXInIHwgJ1Byb3hpbWl0eUZhcicgfCAnUHJveGltaXR5VW5rbm93bic7XG5cbiAgLyoqXG4gICAqIFRyYW5zbWlzc2lvbiBQb3dlciBvZiB0aGUgYmVhY29uLiBBIGNvbnN0YW50IGVtaXR0ZWQgYnkgdGhlIGJlYWNvbiB3aGljaCBpbmRpY2F0ZXMgd2hhdCdzIHRoZSBleHBlY3RlZCBSU1NJIGF0IGEgZGlzdGFuY2Ugb2YgMSBtZXRlciB0byB0aGUgYmVhY29uLlxuICAgKi9cbiAgdHg6IG51bWJlcjtcblxuICAvKipcbiAgICogUmVjZWl2ZWQgU2lnbmFsIFN0cmVuZ3RoIEluZGljYXRvci4gVGhlIHN0cmVuZ3RoIG9mIHRoZSBiZWFjb24ncyBzaWduYWwgd2hlbiBpdCByZWFjaGVzIHRoZSBkZXZpY2UuXG4gICAqICBSU1NJIHJhbmdlcyBmcm9tIGFwcm94IC0yNiAoYSBmZXcgaW5jaGVzKSB0byAtMTAwICg0MC01MCBtIGRpc3RhbmNlKS5cbiAgICovXG4gIHJzc2k6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGFjY3VyYWN5IG9mIHRoZSByYW5naW5nLlxuICAgKi9cbiAgYWNjdXJhY3k6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCZWFjb25SZWdpb24ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyByZWdpb24uXG4gICAqL1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0aGUgYmVhY29uIGlkZW50aWZpZXIgdGhlIGRldmljZSB3aWxsIFwid2F0Y2hcIiBmb3IuIE1hbnkgYmVhY29ucyBjYW4gc2hhcmUgdGhlIHNhbWUgdXVpZC5cbiAgICovXG4gIHV1aWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGJlYWNvbidzIG1ham9yIGlkZW50aWZpZXIgbnVtYmVyLiBPcHRpb25hbCwgb2Ygbm90aGluZyBpcyBzdXBwbGllZFxuICAgKiB0aGUgcGx1Z2luIHdpbGwgdHJlYXQgaXQgYXMgYSB3aWxkY2FyZC5cbiAgICovXG4gIG1ham9yPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgYmVhY29uJ3MgbWlub3IgaWRlbnRpZmllciBudW1iZXIuIE9wdGlvbmFsLCBvZiBub3RoaW5nIGlzIHN1cHBsaWVkXG4gICAqIHRoZSBwbHVnaW4gd2lsbCB0cmVhdCBpdCBhcyBhIHdpbGRjYXJkLlxuICAgKi9cbiAgbWlub3I/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlIHRoZSBkZXZpY2Ugd2lsbCBzY2FuIGZvciBiZWFjb25zIGFuZCBkZXRlcm1pbmUgcmVnaW9uIHN0YXRlIGFueXRpbWVcbiAgICogdGhlIGRldmljZSdzIHNjcmVlbiBpcyB0dXJuZWQgb24gb3Igb2ZmLiBVc2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICovXG4gIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1bGFyUmVnaW9uIHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcmVnaW9uLlxuICAgKi9cbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbGF0aXR1ZGUgb2YgdGhpcyByZWdpb24uXG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgcmVnaW9uLlxuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSByYWRpdXMgb2YgdGhlIGdlb2ZlbmNlIGZvciB0aGlzIHJlZ2lvbi5cbiAgICovXG4gIHJhZGl1czogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZWdpb24gPSBCZWFjb25SZWdpb24gfCBDaXJjdWxhclJlZ2lvbjtcblxuZXhwb3J0IGludGVyZmFjZSBJQmVhY29uUGx1Z2luUmVzdWx0IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBkZWxlZ2F0ZSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VkIHRoZSBQbHVnaW5SZXN1bHQgb2JqZWN0LlxuICAgKi9cbiAgZXZlbnRUeXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZWdpb24gdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgKi9cbiAgcmVnaW9uOiBSZWdpb247XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGJlYWNvbiBvYmplY3RzXG4gICAqL1xuICBiZWFjb25zOiBCZWFjb25bXTtcblxuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgbG9jYXRpb24gcGVybWlzc2lvbiBmb3IgaU9TLlxuICAgKi9cbiAgYXV0aG9yaXphdGlvblN0YXR1czogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHBob25lIGluIHJlbGF0aW9uIHRvIHRoZSByZWdpb24uIEluc2lkZS9vdXRzaWRlIGZvciBleGFtcGxlLlxuICAgKi9cbiAgc3RhdGU6ICdDTFJlZ2lvblN0YXRlSW5zaWRlJyB8ICdDTFJlZ2lvblN0YXRlT3V0c2lkZSc7XG5cbiAgLyoqXG4gICAqIEVycm9yIG1lc3NhZ2UsIHVzZWQgb25seSB3aXRoIG1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yIGRlbGVnYXRlLlxuICAgKi9cbiAgZXJyb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQmVhY29uRGVsZWdhdGUge1xuICAvKipcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbG9jYXRpb24gcGVybWlzc2lvbiBhdXRob3JpemF0aW9uIHN0YXR1cy5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8c3RyaW5nPn0gUmV0dXJucyBhIHN0cmluZy5cbiAgICovXG4gIGRpZENoYW5nZUF1dGhvcml6YXRpb25TdGF0dXMoKTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiB3aGVuIHRoZSBuYXRpdmUgbGF5ZXIgaXMgYWJsZSB0byBkZXRlcm1pbmUgdGhlIGRldmljZSdzIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIGV2ZW50IGlzIGNhbGxlZCB3aGVuIHRoZSBwaG9uZSBiZWdpbnMgc3RhcnRzIG1vbml0b3JpbmcsXG4gICAqIHdoZW4gcmVxdWVzdFN0YXRlRm9yUmVnaW9uIGlzIGNhbGxlZCwgZXRjLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBkaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiB3aGVuIHRoZSBwaG9uZSBlbnRlcnMgYSByZWdpb24gdGhhdCBpdCB3YXMgYXNrZWQgdG8gbW9uaXRvci5cbiAgICpcbiAgICogSWYgdGhlIHVzZXIgaGFzIGdpdmVuIHRoZSBhcHAgQWx3YXlzLUxvY2F0aW9uIHBlcm1pc3Npb24sIHRoaXMgZnVuY3Rpb25cbiAgICogIHdpbGwgYmUgY2FsbGVkIGV2ZW4gd2hlbiB0aGUgYXBwIGlzIG5vdCBydW5uaW5nIG9uIGlPUy5cbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgZGlkRW50ZXJSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogd2hlbiB0aGUgcGhvbmUgZXhpdHMgYSByZWdpb24gdGhhdCBpdCB3YXMgYXNrZWQgdG8gbW9uaXRvci5cbiAgICpcbiAgICogSWYgdGhlIHVzZXIgaGFzIGdpdmVuIHRoZSBhcHAgQWx3YXlzLUxvY2F0aW9uIHBlcm1pc3Npb24sIHRoaXMgZnVuY3Rpb25cbiAgICogIHdpbGwgYmUgY2FsbGVkIGV2ZW4gd2hlbiB0aGUgYXBwIGlzIG5vdCBydW5uaW5nIG9uIGlPUy5cbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgZGlkRXhpdFJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiAgZWFjaCB0aW1lIHRoYXQgdGhlIGRldmljZSByYW5nZXMgYmVhY29ucy4gTW9kZXJuIEFuZHJvaWQgYW5kIGlPUyBkZXZpY2VzIHJhbmdlXG4gICAqIGFwcm94aW1hdGVseSBvbmNlIHBlciBzZWNvbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIGRpZFJhbmdlQmVhY29uc0luUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgYmVnaW5zIG1vbml0b3JpbmcgYSByZWdpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIGRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGZhaWxzIHRvIG1vbml0b3IgYSByZWdpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIG1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgYmVnaW5zIGFkdmVydGlzaW5nIGFzIGFuIGlCZWFjb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIHBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZygpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgcGVyaXBoZXJhbCBtYW5hZ2VyJ3Mgc3RhdGUgdXBkYXRlcy5cbiAgICpcbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgcGVyaXBoZXJhbE1hbmFnZXJEaWRVcGRhdGVTdGF0ZSgpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xufVxuXG4vKipcbiAqIEBuYW1lIElCZWFjb25cbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBwbHVnaW4gcHJvdmlkZXMgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggaUJlYWNvbnMuXG4gKlxuICogIFRoZSBwbHVnaW4ncyBBUEkgY2xvc2VseSBtaW1pY3MgdGhlIG9uZSBleHBvc2VkIHRocm91Z2ggdGhlIFtDTExvY2F0aW9uTWFuYWdlcl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sKSBpbnRyb2R1Y2VkIGluIGlPUyA3LlxuICogQHVzYWdlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgSUJlYWNvbiB9IGZyb20gJ0Bhd2Vzb21lLWNvcmRvdmEtcGx1Z2lucy9pYmVhY29uL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBpYmVhY29uOiBJQmVhY29uKSB7IH1cbiAqXG4gKiAuLi5cbiAqXG4gKlxuICogLy8gUmVxdWVzdCBwZXJtaXNzaW9uIHRvIHVzZSBsb2NhdGlvbiBvbiBpT1NcbiAqIHRoaXMuaWJlYWNvbi5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpO1xuICogLy8gY3JlYXRlIGEgbmV3IGRlbGVnYXRlIGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBuYXRpdmUgbGF5ZXJcbiAqIGxldCBkZWxlZ2F0ZSA9IHRoaXMuaWJlYWNvbi5EZWxlZ2F0ZSgpO1xuICpcbiAqIC8vIFN1YnNjcmliZSB0byBzb21lIG9mIHRoZSBkZWxlZ2F0ZSdzIGV2ZW50IGhhbmRsZXJzXG4gKiBkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbigpXG4gKiAgIC5zdWJzY3JpYmUoXG4gKiAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnZGlkUmFuZ2VCZWFjb25zSW5SZWdpb246ICcsIGRhdGEpLFxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxuICogICApO1xuICogZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKClcbiAqICAgLnN1YnNjcmliZShcbiAqICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdkaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb246ICcsIGRhdGEpLFxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxuICogICApO1xuICogZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24oKVxuICogICAuc3Vic2NyaWJlKFxuICogICAgIGRhdGEgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ2RpZEVudGVyUmVnaW9uOiAnLCBkYXRhKTtcbiAqICAgICB9XG4gKiAgICk7XG4gKlxuICogbGV0IGJlYWNvblJlZ2lvbiA9IHRoaXMuaWJlYWNvbi5CZWFjb25SZWdpb24oJ2Rlc2tCZWFjb24nLCdGNzgyNkRBNi1BU0RGLUFTREYtODAyNC1CQzVCNzFFMDg5M0UnKTtcbiAqXG4gKiB0aGlzLmliZWFjb24uc3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKGJlYWNvblJlZ2lvbilcbiAqICAgLnRoZW4oXG4gKiAgICAgKCkgPT4gY29uc29sZS5sb2coJ05hdGl2ZSBsYXllciByZWNlaXZlZCB0aGUgcmVxdWVzdCB0byBtb25pdG9yaW5nJyksXG4gKiAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcignTmF0aXZlIGxheWVyIGZhaWxlZCB0byBiZWdpbiBtb25pdG9yaW5nOiAnLCBlcnJvcilcbiAqICAgKTtcbiAqIGBgYFxuICogQGludGVyZmFjZXNcbiAqIEJlYWNvblxuICogQmVhY29uUmVnaW9uXG4gKiBDaXJjdWxhclJlZ2lvblxuICogSUJlYWNvblBsdWdpblJlc3VsdFxuICogSUJlYWNvbkRlbGVnYXRlXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnSUJlYWNvbicsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWliZWFjb24nLFxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9wZXRlcm1ldHovY29yZG92YS1wbHVnaW4taWJlYWNvbicsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBJQmVhY29uIGV4dGVuZHMgQXdlc29tZUNvcmRvdmFOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGRlbGVnYXRlcyBiZXR3ZWVuIHRoZSB7QGxpbmsgTG9jYXRpb25NYW5hZ2VyfSBhbmRcbiAgICogdGhlIGNvZGUgdGhhdCBjb25zdW1lcyB0aGUgbWVzc2FnZXMgZ2VuZXJhdGVkIG9uIGluIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IEFuIGluc3RhbmNlIG9mIHRoZSB0eXBlIHtAdHlwZSBEZWxlZ2F0ZX0uXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxuICBEZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xuICAgIGNvbnN0IGRlbGVnYXRlID0gbmV3IHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyLkRlbGVnYXRlKCk7XG5cbiAgICBkZWxlZ2F0ZS5kaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZENoYW5nZUF1dGhvcml6YXRpb25TdGF0dXMgPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkRXhpdFJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRFeGl0UmVnaW9uID0gY2IpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uID0gY2IpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24gPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUubW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUubW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZyA9IGNiKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUgPSBjYik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgd2luZG93LmNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuc2V0RGVsZWdhdGUoZGVsZWdhdGUpO1xuICAgIHJldHVybiBkZWxlZ2F0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEJlYWNvblJlZ2lvblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBAc2VlIHtDTFJlZ2lvbn1cbiAgICogQHBhcmFtIGlkZW50aWZlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXVpZCBUaGUgcHJveGltaXR5IElEIG9mIHRoZSBiZWFjb24gYmVpbmcgdGFyZ2V0ZWQuXG4gICAqIFRoaXMgdmFsdWUgbXVzdCBub3QgYmUgYmxhbmsgbm9yIGludmFsaWQgYXMgYSBVVUlELlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWFqb3IgVGhlIG1ham9yIHZhbHVlIHRoYXQgeW91IHVzZSB0byBpZGVudGlmeSBvbmUgb3IgbW9yZSBiZWFjb25zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWlub3IgVGhlIG1pbm9yIHZhbHVlIHRoYXQgeW91IHVzZSB0byBpZGVudGlmeSBhIHNwZWNpZmljIGJlYWNvbi5cbiAgICogQHBhcmFtIHtCT09MfSBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5XG4gICAqIEByZXR1cm5zIHtCZWFjb25SZWdpb259IFJldHVybnMgdGhlIEJlYWNvblJlZ2lvbiB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxuICBCZWFjb25SZWdpb24oXG4gICAgaWRlbnRpZmVyOiBzdHJpbmcsXG4gICAgdXVpZDogc3RyaW5nLFxuICAgIG1ham9yPzogbnVtYmVyLFxuICAgIG1pbm9yPzogbnVtYmVyLFxuICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuXG4gICk6IEJlYWNvblJlZ2lvbiB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5CZWFjb25SZWdpb24oXG4gICAgICBpZGVudGlmZXIsXG4gICAgICB1dWlkLFxuICAgICAgbWFqb3IsXG4gICAgICBtaW5vcixcbiAgICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXREZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0lCZWFjb25EZWxlZ2F0ZX0gZGVsZWdhdGUgQW4gaW5zdGFuY2Ugb2YgYSBkZWxlZ2F0ZSB0byByZWdpc3RlciB3aXRoIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXREZWxlZ2F0ZShkZWxlZ2F0ZTogSUJlYWNvbkRlbGVnYXRlKTogSUJlYWNvbkRlbGVnYXRlIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGUgbmF0aXZlIGxheWVyIHRoYXQgdGhlIGNsaWVudCBzaWRlIGlzIHJlYWR5IHRvIGNvbnN1bWUgbWVzc2FnZXMuXG4gICAqIFJlYWRpbmVzcyBoZXJlIG1lYW5zIHRoYXQgaXQgaGFzIGEge0lCZWFjb25EZWxlZ2F0ZX0gc2V0IGJ5IHRoZSBjb25zdW1lciBqYXZhc2NyaXB0XG4gICAqIGNvZGUuXG4gICAqXG4gICAqIFRoZSB7TG9jYXRpb25NYW5hZ2VyLnNldERlbGVnYXRlKCl9IHdpbGwgaW1wbGljaXRseSBjYWxsIHRoaXMgbWV0aG9kIGFzIHdlbGwsXG4gICAqIHRoZXJlZm9yZSB0aGUgb25seSBjYXNlIHdoZW4geW91IGhhdmUgdG8gY2FsbCB0aGlzIG1hbnVhbGx5IGlzIGlmIHlvdSBkb24ndFxuICAgKiB3aXNoIHRvIHNwZWNpZnkgYSB7SUJlYWNvbkRlbGVnYXRlfSBvZiB5b3Vycy5cbiAgICpcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBzaWduYWxpbmcgbWVjaGFuaXNtIGlzIHRvIG1ha2UgdGhlIGV2ZW50cyB3b3JrIHdoZW4gdGhlXG4gICAqIGFwcCBpcyBiZWluZyB3b2tlbiB1cCBieSB0aGUgT3BlcmF0aW5nIFN5c3RlbSB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGhhbmRsZVxuICAgKiByZWdpb24gbW9uaXRvcmluZyBldmVudHMgZm9yIGV4YW1wbGUuXG4gICAqXG4gICAqIElmIHlvdSBkb24ndCBzZXQgYSB7SUJlYWNvbkRlbGVnYXRlfSBhbmQgZG9uJ3QgY2FsbCB0aGlzIG1ldGhvZCBtYW51YWxseSwgYW4gZXJyb3JcbiAgICogbWVzc2FnZSBnZXQgZW1pdHRlZCBpbiB0aGUgbmF0aXZlIHJ1bnRpbWUgYW5kIHRoZSBET00gYXMgd2VsbCBhZnRlciBhIGNlcnRhaW5cbiAgICogcGVyaW9kIG9mIHRpbWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSByZXF1ZXN0IGFuZCBzdGFydGVkIHRvIHNlbmQgZXZlbnRzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgb25Eb21EZWxlZ2F0ZVJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGJsdWV0b290aCBpcyBzd2l0Y2hlZCBvbiwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciBibHVldG9vdGggaXMgYWN0aXZlLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNCbHVldG9vdGhFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIEJsdWV0b290aCB1c2luZyB0aGUgbmF0aXZlIExheWVyLiAoQU5EUk9JRCBPTkxZKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcbiAgICogY291bGQgYmUgZW5hYmxlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBlbmFibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIEJsdWV0b290aCB1c2luZyB0aGUgbmF0aXZlIExheWVyLiAoQU5EUk9JRCBPTkxZKVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcbiAgICogY291bGQgYmUgZW5hYmxlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBkaXNhYmxlQmx1ZXRvb3RoKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLlxuICAgKlxuICAgKiBJZiBhIHJlZ2lvbiBvZiB0aGUgc2FtZSB0eXBlIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbixcbiAgICogaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gbW9uaXRvcmluZy4gRm9yIGNpcmN1bGFyIHJlZ2lvbnMsIHRoZSByZWdpb25cbiAgICogbW9uaXRvcmluZyBzZXJ2aWNlIHdpbGwgcHJpb3JpdGl6ZVxuICAgKiByZWdpb25zIGJ5IHRoZWlyIHNpemUsIGZhdm9yaW5nIHNtYWxsZXIgcmVnaW9ucyBvdmVyIGxhcmdlciByZWdpb25zLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBtb25pdG9yaW5nIHJlcXVlc3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdGFydE1vbml0b3JpbmdGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIG1vbml0b3JpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICBJdCBpcyB2YWxpZCB0byBjYWxsXG4gICAqIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uOiBmb3IgYSByZWdpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBmb3IgbW9uaXRvcmluZ1xuICAgKiB3aXRoIGEgZGlmZmVyZW50IGxvY2F0aW9uIG1hbmFnZXIgb2JqZWN0LCBkdXJpbmcgdGhpcyBvciBwcmV2aW91c1xuICAgKiBsYXVuY2hlcyBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHN0YXRlIHRoZSBmb3Igc3BlY2lmaWVkIHJlZ2lvbi4gV2hlbiByZXN1bHQgaXMgcmVhZHlcbiAgICogZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gaXMgdHJpZ2dlcmVkLiBUaGlzIGNhbiBiZSBhbnkgcmVnaW9uLFxuICAgKiBhbHNvIHRob3NlIHdoaWNoIGlzIG5vdCBjdXJyZW50bHkgbW9uaXRvcmVkLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICByZXF1ZXN0U3RhdGVGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgcmFuZ2luZyB0aGUgc3BlY2lmaWVkIGJlYWNvbiByZWdpb24uXG4gICAqXG4gICAqIElmIGEgcmVnaW9uIG9mIHRoZSBzYW1lIHR5cGUgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgYmVpbmdcbiAgICogbW9uaXRvcmVkIGZvciB0aGlzIGFwcGxpY2F0aW9uLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBtb25pdG9yaW5nLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIHJhbmdlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge0JlYWNvblJlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgbW9uaXRvcmluZyByZXF1ZXN0LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RhcnRSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgcmFuZ2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi4gIEl0IGlzIHZhbGlkIHRvIGNhbGxcbiAgICogc3RvcE1vbml0b3JpbmdGb3JSZWdpb246IGZvciBhIHJlZ2lvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGZvciByYW5naW5nXG4gICAqIHdpdGggYSBkaWZmZXJlbnQgbG9jYXRpb24gbWFuYWdlciBvYmplY3QsIGR1cmluZyB0aGlzIG9yIHByZXZpb3VzXG4gICAqIGxhdW5jaGVzIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7QmVhY29uUmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0b3BSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXJpZXMgdGhlIG5hdGl2ZSBsYXllciB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgYXV0aG9yaXphdGlvbiBpbiBlZmZlY3QuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIHRoZVxuICAgKiByZXF1ZXN0ZWQgYXV0aG9yaXphdGlvbiBzdGF0dXMuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBnZXRBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8SUJlYWNvblBsdWdpblJlc3VsdD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgaU9TIDggYW5kIGFib3ZlIG9ubHkuIFRoZSBwZXJtaXNzaW9uIG1vZGVsIGhhcyBjaGFuZ2VkIGJ5IEFwcGxlIGluIGlPUyA4LCBtYWtpbmcgaXQgbmVjZXNzYXJ5IGZvciBhcHBzIHRvXG4gICAqIGV4cGxpY2l0bHkgcmVxdWVzdCBwZXJtaXNzaW9ucyB2aWEgbWV0aG9kcyBsaWtlIHRoZXNlOlxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvcHJlcmVsZWFzZS9pT1MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvb2NjL2luc3RtL0NMTG9jYXRpb25NYW5hZ2VyL3JlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uXCI+cmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb248L2E+XG4gICAqIDxhIGhyZWY9XCJodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9wcmVyZWxlYXNlL2lPUy9kb2N1bWVudGF0aW9uL0NvcmVMb2NhdGlvbi9SZWZlcmVuY2UvQ0xMb2NhdGlvbk1hbmFnZXJfQ2xhc3MvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9vY2MvaW5zdG0vQ0xMb2NhdGlvbk1hbmFnZXIvcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb25cIj5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbjwvYT5cbiAgICpcbiAgICogSWYgeW91IGFyZSB1c2luZyB0aGlzIHBsdWdpbiBvbiBBbmRyb2lkIGRldmljZXMgb25seSwgeW91IHdpbGwgbmV2ZXIgaGF2ZSB0byB1c2UgdGhpcywgbm9yIHtAY29kZSByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbn1cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgcmVxdWVzdCBkaWFsb2cgaXMgc2hvd24uXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIHtAY29kZSByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbn0gZm9yIGZ1cnRoZXIgZGV0YWlscy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIG5hdGl2ZSBsYXllclxuICAgKiBzaG93cyB0aGUgcmVxdWVzdCBkaWFsb2cuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8UmVnaW9uW10+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGFuIHtBcnJheX1cbiAgICogb2Yge1JlZ2lvbn0gaW5zdGFuY2VzIHRoYXQgYXJlIGJlaW5nIG1vbml0b3JlZCBieSB0aGUgbmF0aXZlIGxheWVyLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZ2V0TW9uaXRvcmVkUmVnaW9ucygpOiBQcm9taXNlPFJlZ2lvbltdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lvbltdPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhbiB7QXJyYXl9XG4gICAqIG9mIHtSZWdpb259IGluc3RhbmNlcyB0aGF0IGFyZSBiZWluZyByYW5nZWQgYnkgdGhlIG5hdGl2ZSBsYXllci5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGdldFJhbmdlZFJlZ2lvbnMoKTogUHJvbWlzZTxSZWdpb25bXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHJhbmdpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciByYW5naW5nIGlzIGF2YWlsYWJsZSBvciBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc1JhbmdpbmdBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgcmVnaW9uIHR5cGUgaXMgc3VwcG9ydGVkIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBjaGVja2VkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJlZ2lvbiB0eXBlIGlzIHN1cHBvcnRlZCBvciBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc01vbml0b3JpbmdBdmFpbGFibGVGb3JDbGFzcyhyZWdpb246IFJlZ2lvbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBhZHZlcnRpc2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi5cbiAgICpcbiAgICogSWYgYSByZWdpb24gYSBkaWZmZXJlbnQgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nIGFkdmVydGlzZWQgZm9yXG4gICAqIHRoaXMgYXBwbGljYXRpb24sIGl0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbmV3IGlkZW50aWZpZXIuXG4gICAqXG4gICAqIFRoaXMgY2FsbCB3aWxsIGFjY2VwdCBhIHZhbGlkIGJlYWNvbiBldmVuIHdoZW4gbm8gQmx1ZVRvb3RoIGlzIGF2YWlsYWJsZSxcbiAgICogYW5kIHdpbGwgc3RhcnQgd2hlbiBCbHVlVG9vdGggaXMgcG93ZXJlZCBvbi4gU2VlIHtJQmVhY29uRGVsZWdhdGUufVxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgYWR2ZXJ0aXNlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBtZWFzdXJlZFBvd2VyOiBPcHRpb25hbCBwYXJhbWV0ZXIsIGlmIGxlZnQgZW1wdHksIHRoZSBkZXZpY2Ugd2lsbFxuICAgKiB1c2UgaXQncyBvd24gZGVmYXVsdCB2YWx1ZS5cbiAgICogQHBhcmFtIG1lYXN1cmVkUG93ZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBhZHZlcnRpc2luZyByZXF1ZXN0LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RhcnRBZHZlcnRpc2luZyhyZWdpb246IFJlZ2lvbiwgbWVhc3VyZWRQb3dlcj86IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGFkdmVydGlzaW5nIGFzIGEgYmVhY29uLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIGlzQWR2ZXJ0aXNpbmcuXG4gICAqXG4gICAqIEBwYXJhbSByZWdpb25cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgYWR2ZXJ0aXNpbmcuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdG9wQWR2ZXJ0aXNpbmcocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhZHZlcnRpc2luZyBpcyBhdmFpbGFibGUgb3Igbm90LCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGFkdmVydGlzaW5nIGlzIGF2YWlsYWJsZSBvciBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc0FkdmVydGlzaW5nQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGFkdmVydGlzaW5nIGlzIGN1cnJlbnRseSBhY3RpdmUsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgYWR2ZXJ0aXNpbmcgaXMgYWN0aXZlLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNBZHZlcnRpc2luZygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgZGVidWcgbG9nZ2luZyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcbiAgICogdG8gcHJldmVudCB0aGlzIHBsdWdpbiBmcm9tIHdyaXRpbmcgdG8gdGhlIGRldmljZSBsb2dzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgYWNjb3JkaW5nbHkuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBkaXNhYmxlRGVidWdMb2dzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XG4gICAqIHRvIGFsbG93IHRoZSBwbHVnaW4gdGhlIHBvc3RpbmcgbG9jYWwgbm90aWZpY2F0aW9ucy5cbiAgICogVGhpcyBjYW4gYmUgdmVyeSBoZWxwZnVsIHdoZW4gZGVidWdnaW5nIGhvdyB0byBhcHBzIGJlaGF2ZSB3aGVuIGxhdW5jaGVkIGludG8gdGhlIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgZmxhZyB0byBlbmFibGVkLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZW5hYmxlRGVidWdOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgcG9zdGluZyBvZiBkZWJ1ZyBub3RpZmljYXRpb25zIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxuICAgKiB0byBwcmV2ZW50IHRoZSBwbHVnaW4gZnJvbSBwb3N0aW5nIGxvY2FsIG5vdGlmaWNhdGlvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgZmxhZyB0byBkaXNhYmxlZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGRpc2FibGVEZWJ1Z05vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgZGVidWcgbG9nZ2luZyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcbiAgICogYSBkZWJ1ZyB0aGUgaW5uZXIgd29ya2luZ3Mgb2YgdGhpcyBwbHVnaW4uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgbG9nZ2luZyBsZXZlbCBhY2NvcmRpbmdseS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGVuYWJsZURlYnVnTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgcHJvdmlkZWQgW21lc3NhZ2VdIHRvIHRoZSBkZXZpY2UgbG9ncy5cbiAgICogTm90ZTogSWYgZGVidWcgbG9nZ2luZyBpcyB0dXJuZWQgb2ZmLCB0aGlzIHdvbid0IGRvIGFueXRoaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBhcHBlbmQgdG8gdGhlIGRldmljZSBsb2dzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCB0aGUgbG9nXG4gICAqIG1lc3NhZ2UgcmVjZWl2ZWQgYnkgdGhlIG5hdGl2ZSBsYXllciBmb3IgYXBwZW5kaW5nLiBUaGUgcmV0dXJuZWQgbWVzc2FnZVxuICAgKiBpcyBleHBlY3RlZCB0byBiZSBlcXVpdmFsZW50IHRvIHRoZSBvbmUgcHJvdmlkZWQgaW4gdGhlIG9yaWdpbmFsIGNhbGwuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBhcHBlbmRUb0RldmljZUxvZyhtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==